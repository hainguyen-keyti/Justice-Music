(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{116:function(e,t,a){e.exports=a.p+"static/media/logo.6014fc10.png"},18:function(e,t,a){var n={api_url:"https://jumu.tk/api",url:"https://jumu.tk",provider:a(133).getDefaultProvider("kovan"),tokenAddress:"0x84C470e05128A2d1FfFF6132801182Aa4CeD9F89",tokenABI:[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"UserBehaviorContract",type:"address"}],name:"setOnlyUserBehaviorContract",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"TransferFromTo",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]};window.$linkIPFS="https://ipfs.fotra.tk/ipfs/",e.exports=n},250:function(e,t,a){},323:function(e,t,a){},376:function(e,t,a){e.exports=a(690)},552:function(e,t){},555:function(e,t,a){},558:function(e,t,a){},570:function(e,t,a){},571:function(e,t,a){},606:function(e,t,a){},616:function(e,t,a){},652:function(e,t,a){},686:function(e,t,a){},687:function(e,t,a){},688:function(e,t,a){},689:function(e,t,a){},690:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),i=a.n(o),c=a(5),s=a(6),l=a(8),u=a(7),p=a(9),m=a(19),d=a(235),f=a(29),h=(a(31),a(250),a(739)),g=a(741),E=a(738),y=a(363),b=a(13),v=a(117),O=a(59),S=a(28),C=a.n(S),w=a(18),k=a.n(w),j=a(716),_=a(165),D=a(58),I=a(243),T=a(336),A=a.n(T),R=a(337),P=a(338),x=a(339),F=a.n(x),U=a(45);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M={user:{},balanceETH:0,isSignin:!1,signinSuccessful:!1,isSignup:!1,signupSuccessful:!1,isUpdate:!1,updateSuccessful:!1,errorUpdate:null,error:null},G=a(364);function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z={receiverID:"",listFriend:[],listMessage:[],callingAPI:!1,titleName:"",isFindUser:!1,findUserSuccessful:!1,dataFindUser:[],error:null};function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V={musicSelected:{},rankingdata:null,isLoadingRankingData:!1,homeData:null,isGetHomeData:!1,getHomeDataSuccessful:!1,errorGetHomeData:null,hotUserData:null,error:null};function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y={uploadData:[],loadingUpload:!1,downloadData:[],loadingDownload:!1,isoData:[],loadingIsoData:!1,userInfoData:null,loadingUserData:!1,errorPage:null,errorUpload:null};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var X={songInfo:null,songSameSingerData:null,relatedUserData:null,isLoading:!1,error:null},Z=Object(D.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_START":return L({},e,{isUpdate:!0});case"UPDATE_SUCCESSFUL":return L({},e,{isUpdate:!1,updateSuccessful:!0,user:L({},e.user,{userName:t.userName})});case"UPDATE_FAIL":return L({},e,{isUpdate:!1,errorUpdate:t.err});case"HANDLE_UPDATE_ERROR":return L({},e,{errorUpdate:null});case"RESET_UPDATE":return L({},e,{isUpdate:!1,updateSuccessful:!1,errorUpdate:null});case"SET_HAK_ADD":return L({},e,{user:L({},e.user,{HAK:Number(e.user.HAK)+t.hak})});case"SET_HAK_SUB":return L({},e,{user:L({},e.user,{HAK:e.user.HAK-t.hak})});case"SET_ETH":return L({},e,{balanceETH:t.eth});case"SET_USER_DATA":return L({},e,{user:t.user});case"SIGNIN_START":return L({},e,{isSignin:!0});case"SIGNIN_SUCCESSFUL":return L({},e,{isSignin:!1,signinSuccessful:!0});case"SIGNIN_FAIL":return L({},e,{isSignin:!1,error:t.err});case"SIGNIN_FAIL_HANDLE":return L({},e,{error:null});case"CLEAR_STATE_REGISTER":return L({},e,{isSignup:!1,signupSuccessful:!1,error:null});case"SIGNUP_START":return L({},e,{isSignup:!0});case"SIGNUP_SUCCESSFUL":return L({},e,{isSignup:!1,signupSuccessful:!0});case"SIGNUP_FAIL":return L({},e,{isSignup:!1,error:t.err});case"SIGNUP_FAIL_HANDLE":return L({},e,{error:null});default:return e}},chatReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TITLE_NAME":return B({},e,{titleName:t.titleName});case"SET_RECEIVER_ID":return B({},e,{receiverID:t.receiverID});case"SET_LIST_FRIEND":return B({},e,{listFriend:t.listFriend,callingAPI:!1});case"SET_LIST_MESSAGE":return B({},e,{listMessage:t.listMessage,callingAPI:!1});case"PUSH_MESSAGE":return B({},e,{listMessage:[].concat(Object(G.a)(e.listMessage),[t.arr]),callingAPI:!1});case"CALLING_API":return B({},e,{callingAPI:!0});case"FAIL":return B({},e,{error:t.err,callingAPI:!1});case"FAIL_HANDLE":return B({},e,{error:null});case"FINDUSER_START":return B({},e,{isFindUser:!0});case"FINDUSER_SUCCESSFUL":return B({},e,{isFindUser:!1,findUserSuccessful:!0,dataFindUser:t.result});case"FINDUSER_FAIL":return B({},e,{isFindUser:!1,error:t.err});case"FINDUSER_FAIL_HANDLE":return B({},e,{error:null});default:return e}},appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_HOT_USER_SUCCESSFUL":return $({},e,{hotUserData:t.hotUserData});case"GET_HOME_DATA_START":return $({},e,{isGetHomeData:!0});case"GET_HOME_DATA_SUCCESSFUL":return $({},e,{isGetHomeData:!1,getHomeDataSuccessful:!0,homeData:t.homeData});case"GET_HOME_DATA_FAIL":return $({},e,{isGetHomeData:!1,errorGetHomeData:t.err});case"GET_HOME_DATA_HANLDE_ERROR":return $({},e,{errorGetHomeData:null});case"GET_HOME_DATA_RESET":return $({},e,{homeData:{},isGetHomeData:!1,getHomeDataSuccessful:!1,errorGetHomeData:null});case"SET_MUSIC_SELECTED":return $({},e,{musicSelected:t.musicSelected});case"SET_RANKING":return $({},e,{rankingdata:t.rankingdata,isLoadingRankingData:!1});case"RANKING_START":return $({},e,{isLoadingRankingData:!0});case"SET_ERR":return $({},e,{error:t.err,isLoadingRankingData:!1});default:return e}},pageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_FOLLOW_PAGE":return W({},e,{userInfoData:W({},e.userInfoData,{isFollowed:t.setFollow,follow:t.setFollow?e.userInfoData.follow+1:e.userInfoData.follow-1})});case"HANDLE_SET_ERROR_GET_USER_UPLOAD":return W({},e,{errorUpload:null});case"SET_ERROR_GET_USER_UPLOAD":return W({},e,{errorUpload:t.errorPage});case"HANDLE_SET_ERROR_GET_USER_PAGE":return W({},e,{errorPage:null});case"SET_ERROR_GET_USER_PAGE":return W({},e,{errorPage:t.errorPage});case"SET_LOADING_UPLOAD":return W({},e,{loadingUpload:t.loadingUpload});case"SET_LOADING_DOWNLOAD":return W({},e,{loadingDownload:t.loadingDownload});case"SET_LOADING_ISO":return W({},e,{loadingIsoData:t.loadingIsoData});case"SET_LOADING_USER_INFO":return W({},e,{loadingUserData:t.loadingUserData});case"SET_MUSIC_SELECTED":return W({},e,{musicSelected:window.$linkIPFS+t.musicSelected});case"SET_USER_UPLOAD_DATA":return W({},e,{uploadData:t.uploadData});case"SET_USER_DOWNLOAD_DATA":return W({},e,{downloadData:t.downloadData});case"SET_USER_ISO_DATA":return W({},e,{isoData:t.isoData});case"SET_USER_INFO_DATA":return W({},e,{userInfoData:t.userInfoData});default:return e}},songReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_RELATED_USER_SUCCESSFUL":return Q({},e,{relatedUserData:t.relatedUserData});case"GET_SONG_SAME_SINGER_SUCCESSFUL":return Q({},e,{songSameSingerData:t.songSameSingerData});case"SET_IS_FOLLOW_SONG":return Q({},e,{songInfo:Q({},e.songInfo,{isFollowed:t.setFollow,follow:t.setFollow?e.songInfo.follow+1:e.songInfo.follow-1})});case"SET_SONG_DATA":return Q({},e,{songInfo:t.songInfo});case"SET_ERROR_GET_SONG_DATA":return Q({},e,{error:t.error});case"SET_LOADING_SONG_DATA":return Q({},e,{isLoading:t.isLoading});default:return e}}}),ee=function(e,t){return"LOG_OUT"===t.type&&(e=void 0),Z(e,t)},te=Object(R.createLogger)({timestamps:!0,duration:!0}),ae={key:"root",storage:A.a,whitelist:["userReducer"],stateReconciler:F.a},ne=Object(I.a)(ae,ee),re=Object(D.e)(ne,Object(D.d)(Object(D.a)(te,P.a))),oe=Object(I.b)(re),ie=a(34),ce="updatable";function se(){return{"Content-Type":"application/json; charset=utf-8",Accept:"application/json","x-access-token":re.getState().userReducer.user.accessToken}}function le(e){j.a.open({key:ce,description:r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(_.a,null),r.a.createElement("p",{style:{marginLeft:"15px"}},e)),duration:0,placement:"bottomLeft",style:{width:350}})}function ue(e){j.a.error({key:ce,message:"Error message",description:e,duration:0,placement:"bottomLeft"})}function pe(e){k.a.provider.waitForTransaction(e).then((function(){j.a.success({key:ce,message:"Sucess Transaction",description:"Transaction has been successful",duration:0,placement:"bottomLeft",style:{width:350}})})).catch((function(e){j.a.error({key:ce,message:"Error Transaction",description:"This is error message: "+e,duration:0,placement:"bottomLeft"})}))}function me(e,t){for(var a=""+Math.floor(e),n=e%1,r=a.length,o="";(r-=3)>0;)o=","+a.substr(r,3)+o;return a.substr(0,r+3)+o+(n?"."+Math.round(n*Math.pow(10,t||2)):"")}function de(e){return ie.unix(ie().unix()+e).endOf("second").fromNow()}function fe(e){return new Promise((function(t,a){return C.a.post(k.a.api_url+"/ethereums/download",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))}function he(e){return new Promise((function(t,a){return C.a.get(k.a.api_url+"/ethereums/getISOAddress?address="+e,{headers:se()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}function ge(e){return new Promise((function(t,a){return C.a.post(k.a.api_url+"/actions/createTemplateContract",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function Ee(e){return new Promise((function(t,a){return C.a.post(k.a.api_url+"/actions/createContract",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function ye(e){return new Promise((function(t,a){return C.a.get(k.a.api_url+"/actions/getUserTemplateContract/?idMongo="+e,{headers:se()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}function be(e){return new Promise((function(t,a){return C.a.get(k.a.api_url+"/actions/getContract/"+e,{headers:se()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}var ve=a(133);function Oe(e,t){return function(a){a({type:"SIGNIN_START"}),function(e,t){return new Promise((function(a,n){var r={email:e,password:t};return C.a.post(k.a.api_url+"/users/login",r).then((function(e){if(0===e.data.status)return n(e.data.error.message);a(e.data.result)})).catch((function(e){n(e)}))}))}(e,t).then((function(e){a(function(e){return{type:"SET_USER_DATA",user:e}}(e))})).then((function(){a({type:"SIGNIN_SUCCESSFUL"})})).catch((function(e){a(function(e){return{type:"SIGNIN_FAIL",err:e}}(e))}))}}function Se(e){return function(t){t({type:"UPDATE_START"}),function(e){return new Promise((function(t,a){return C.a.post(k.a.api_url+"/actions/updateUser",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))}(e).then((function(e){t(function(e){return{type:"UPDATE_SUCCESSFUL",userName:e}}(e))})).catch((function(e){console.log(e),t(function(e){return{type:"UPDATE_FAIL",err:e}}(e))}))}}var Ce=!0;function we(e){return{type:"SET_ETH",eth:e}}function ke(e,t,a,n,r){return function(o){o({type:"SIGNUP_START"}),function(e,t,a,n,r){return new Promise((function(o,i){var c={user:{email:e,password:t,nickName:a,phone:n,genre:r}};return C.a.post(k.a.api_url+"/users/create",c).then((function(e){if(1===e.data.status)return o();e.data.error.message.errmsg&&i(e.data.error.message.errmsg),i(e.data.error.message)})).catch((function(e){i(e)}))}))}(e,t,a,n,r).then((function(){o({type:"SIGNUP_SUCCESSFUL"})})).then((function(){o(Oe(e,t))})).catch((function(e){o(je(e))}))}}function je(e){return{type:"SIGNUP_FAIL",err:e}}var _e=h.a.Text,De=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isloading:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||(console.log("Received values of form: ",t),a.setState({isloading:!0}),a.props.login(t.email,t.password))}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return this.props.userReducer.error&&(this.setState({isloading:!1}),g.a.error({title:"Login error message ",content:this.props.userReducer.error}),this.props.signin_fail_handle()),this.props.userReducer.signinSuccessful&&(this.props.history.push("/home"),g.a.success({title:"Sinh Vi\xean th\u1ef1c hi\u1ec7n kho\xe1 lu\u1eadn",content:r.a.createElement("div",null,r.a.createElement(_e,null,"Nguy\u1ec5n Ho\xe0ng H\u1ea3i"),r.a.createElement(_e,{code:!0},"15520186"),r.a.createElement("br",null),r.a.createElement(_e,null,"Nguy\u1ec5n Xu\xe2n T\xfa"),r.a.createElement(_e,{code:!0},"15520961"))})),r.a.createElement("div",{className:"wrap-form-login"},r.a.createElement(E.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(E.a.Item,null,t("email",{rules:[{required:!0,message:"Please input your email!"}]})(r.a.createElement(y.a,{prefix:r.a.createElement(b.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(E.a.Item,null,t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(y.a,{prefix:r.a.createElement(b.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(E.a.Item,null,t("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(v.a,null,"Remember me")),r.a.createElement("a",{href:"",className:"login-form-forgot"},"Forgot password"),r.a.createElement(O.a,{loading:this.state.isloading,type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),"Or",r.a.createElement(O.a,{onClick:function(){return e.props.history.push("/register")},type:"link"},"register now!"))))}}]),t}(r.a.Component),Ie=E.a.create({name:"normal_login"})(De),Te=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{login:function(t,a){return e(Oe(t,a))},signin_fail_handle:function(){return e({type:"SIGNIN_FAIL_HANDLE"})}}}))(Ie),Ae=a(93),Re=a(745),Pe=a(81),xe=a(178),Fe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Re.a,{icon:r.a.createElement(b.a,{type:"loading"}),title:"Please wait a second ..."})}}]),t}(r.a.Component),Ue=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.subTitle,o=t.goTo,i=t.func;return r.a.createElement(Re.a,{status:"error",title:a,subTitle:n,extra:[r.a.createElement(O.a,{type:"primary",onClick:function(){e.props.history.push("/".concat(o)),i()}},"Go to ",o)]})}}]),t}(r.a.Component),Ne=Object(f.g)(Ue),Le=Ae.a.Option,Me=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,t){var n=t.email,r=t.password,o=t.nickName,i=t.phone,c=t.genre;e||(console.log("Received values of form: ",t),a.props.createUser(n,r,o,i,c))}))},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a.handleSubmitSuccess=function(){a.props.history.push("/home"),a.props.clear_state_register()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},a=e("prefix",{initialValue:"84"})(r.a.createElement(Ae.a,{style:{width:70}},r.a.createElement(Le,{value:"84"},"+84"),r.a.createElement(Le,{value:"86"},"+86")));return this.props.userReducer.error?(alert(this.props.userReducer.error),this.props.clear_state_register(),r.a.createElement(Ne,null)):this.props.userReducer.signupSuccessful?(console.log("vo roi ne"),this.props.form.resetFields(),r.a.createElement(Re.a,{status:"success",title:"Login Success",subTitle:"Click here to go home page !",extra:[r.a.createElement(O.a,{type:"primary",onClick:this.handleSubmitSuccess},"Go to homepage")]})):this.props.userReducer.isSignup?r.a.createElement(Fe,null):r.a.createElement("div",{className:"wrap-form-login"},r.a.createElement(E.a,{onSubmit:this.handleSubmit,className:"register-form"},r.a.createElement(E.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(y.a,null))),r.a.createElement(E.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(y.a.Password,null))),r.a.createElement(E.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(y.a.Password,{onBlur:this.handleConfirmBlur}))),r.a.createElement(E.a.Item,{label:r.a.createElement("span",null,"Nickname\xa0",r.a.createElement(Pe.a,{title:"What do you want others to call you?"},r.a.createElement(b.a,{type:"question-circle-o"})))},e("nickName",{rules:[{required:!0,message:"Your input is not valid."}]})(r.a.createElement(y.a,null))),r.a.createElement(E.a.Item,{label:"Phone Number"},e("phone",{rules:[{required:!0,message:"Please input your phone number!"}]})(r.a.createElement(y.a,{addonBefore:a,style:{width:"100%"}}))),r.a.createElement(E.a.Item,{label:"Genre"},e("genre",{initialValue:3})(r.a.createElement(xe.a.Group,null,r.a.createElement(xe.a,{value:1},"Man"),r.a.createElement(xe.a,{value:2},"Woman"),r.a.createElement(xe.a,{value:3},"Other")))),r.a.createElement(E.a.Item,t,e("agreement",{valuePropName:"checked"})(r.a.createElement(v.a,null,"I have read the ",r.a.createElement("a",null,"agreement")))),r.a.createElement(E.a.Item,t,r.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Register"))))}}]),t}(r.a.Component),Ge=E.a.create({name:"register"})(Me),He=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{createUser:function(t,a,n,r,o){return e(ke(t,a,n,r,o))},signup_fail:function(){return e(je())},signup_fail_handle:function(){return e({type:"SIGNUP_FAIL_HANDLE"})},clear_state_register:function(){return e({type:"CLEAR_STATE_REGISTER"})}}}))(Ge),Be=a(233),ze=a.n(Be),Ke=a(244),$e=a(749),Ve=a(717),qe=a(177),We=a(750),Ye=a(743),Je=a(116),Qe=a.n(Je),Xe=h.a.Text,Ze=h.a.Paragraph,et=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,amountFaucet:5e6,notificationData:[],notificationCount:0},a.onClickLogOut=function(){a.props.logOut(),localStorage.clear(),a.props.history.push("/login")},a.handleOk=function(){a.setState({visible:!1}),le("Faucet HAK loading ..."),function(e){return new Promise((function(t,a){return C.a.post(k.a.api_url+"/ethereums/faucet",e,{headers:se()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))}({address:a.props.userReducer.user.addressEthereum,amount:a.state.amountFaucet}).then((function(e){pe(e)}))},a.componentDidMount=function(){a.props.getBalance(a.props.userReducer.user.addressEthereum),0===a.state.notificationData.length&&new Promise((function(e,t){return C.a.get(k.a.api_url+"/actions/getNotification",{headers:se()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(e){a.setState({notificationData:e.data,notificationCount:e.countFalse})}))},a.handleClickSeen=function(e,t){if(window.$socket.emit("notification_seen",{id:e}),!a.state.notificationData[t].isSeen){var n=a.state.notificationData;n[t].isSeen=!0,a.setState({notificationData:n,notificationCount:a.state.notificationCount-1})}},a.componentWillMount=function(){var e=a.props.userReducer.user.accessToken;window.$socket||(console.log("hihihihihihihihihihihihihihihihihihihihihihihihihih"),window.$socket=ze()(k.a.url+"/chat",{query:{token:e}})),window.$socket.on("notification",(function(e){var t=a.state.notificationData;t.unshift(e),a.setState({notificationCount:a.state.notificationCount+1,notificationData:t})}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.amountFaucet,o=t.notificationCount,i=t.notificationData,c=r.a.createElement(Ke.a,null,i.map((function(t,a){return e.props.userReducer.user.id===t.senderID.toString()?r.a.createElement(Ke.a.Item,{style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:t.isSeen?"#f5f5f5":""},onClick:function(){return e.handleClickSeen(t._id,a)}},r.a.createElement(b.a,{type:"bell",style:{color:"#1da1f2",fontSize:15}}),r.a.createElement(Ze,{style:{marginLeft:10,margin:5},ellipsis:{rows:4}},t.contentSender)):r.a.createElement(Ke.a.Item,{style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:t.isSeen?"#f5f5f5":""},onClick:function(){return e.handleClickSeen(t._id,a)}},r.a.createElement(b.a,{type:"pay-circle",style:{color:"#1da1f2",fontSize:15}}),r.a.createElement(Ze,{style:{marginLeft:10,margin:5},ellipsis:{rows:4}},t.contentReceiver))}))),s=r.a.createElement(Ke.a,null,r.a.createElement(Ke.a.Item,{onClick:function(){return e.props.history.push("/HAK")}},r.a.createElement(b.a,{type:"pay-circle",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Xe,null,me(this.props.userReducer.user.HAK)," HAK")),r.a.createElement(Ke.a.Item,{onClick:function(){return e.props.history.push("/ETH")}},r.a.createElement(b.a,{type:"dollar",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Xe,null,this.props.userReducer.balanceETH," ETH")),r.a.createElement(Ke.a.Divider,null),r.a.createElement(Ke.a.Item,{onClick:function(){return e.props.history.push("/contractFormManager")}},r.a.createElement(b.a,{type:"solution",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Xe,null,"Contract form manager")),r.a.createElement(Ke.a.Item,{onClick:function(){return e.props.history.push("/setting")}},r.a.createElement(b.a,{type:"setting",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Xe,null,"Setting")),r.a.createElement(Ke.a.Item,{onClick:function(){e.setState({visible:!0})}},r.a.createElement(b.a,{type:"transaction",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Xe,null,"Faucet")),r.a.createElement(Ke.a.Divider,null),r.a.createElement(Ke.a.Item,{onClick:function(){return e.onClickLogOut()}},r.a.createElement(b.a,{type:"logout",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Xe,null,"Log Out")));return r.a.createElement("div",{style:{borderBottom:"1px solid #D6DBDF",height:60,display:"flex",justifyContent:"center"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:1100}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(Pe.a,{placement:"topLeft",title:"Justice music",arrowPointAtCenter:!0},r.a.createElement("img",{src:Qe.a,onClick:function(){return e.props.history.push("/home")},alt:"Justice music",style:{width:"40px",height:"40px"}}))),r.a.createElement("div",null,r.a.createElement(O.a,{ghost:!0,style:{color:"#424242",marginLeft:5}},"SONGS"),r.a.createElement(O.a,{ghost:!0,style:{color:"#424242",marginLeft:5}},"ARTISTS"),r.a.createElement(O.a,{ghost:!0,style:{color:"#424242",marginLeft:5},onClick:function(){return e.props.history.push("/iso")}},"ISO"),r.a.createElement(O.a,{ghost:!0,style:{color:"#424242",marginLeft:5}},"RANKING"),r.a.createElement(O.a,{ghost:!0,style:{color:"#424242",marginLeft:5}},"EVENTS"),r.a.createElement(O.a,{ghost:!0,style:{color:"#424242",marginLeft:5},onClick:function(){return e.props.history.push("/contract")}},"CONTRACTS"),r.a.createElement($e.a,{style:{width:200},dataSource:["Burns Bay Road","Downing Street","Wall Street"],placeholder:"T\xecm b\xe0i h\xe1t ho\u1eb7c ca s\u0129 ...",filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())}},r.a.createElement(y.a,{suffix:r.a.createElement(b.a,{type:"search",className:"certain-category-icon"})}))),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(Pe.a,{placement:"topLeft",title:"Home Page",arrowPointAtCenter:!0},r.a.createElement(Ve.a,{shape:"circle",size:35,src:window.$linkIPFS+this.props.userReducer.user.avatar,onClick:function(){e.props.userReducer.user.userName?e.props.history.push("/page/".concat(e.props.userReducer.user.userName)):e.props.history.push("/page/".concat(e.props.userReducer.user.addressEthereum))}})),r.a.createElement(Pe.a,{placement:"topLeft",title:"Notification",arrowPointAtCenter:!0},r.a.createElement(qe.a,{placement:"bottomCenter",trigger:["click"],overlay:c,overlayStyle:{width:500}},r.a.createElement(We.a,{count:o},r.a.createElement(b.a,{type:"bell",style:{color:"#1da1f2",fontSize:25,paddingLeft:17}})))),r.a.createElement(Pe.a,{placement:"topLeft",title:"Message",arrowPointAtCenter:!0},r.a.createElement(We.a,{count:0},r.a.createElement(b.a,{type:"message",onClick:function(){return e.props.history.push("/message")},style:{color:"#1da1f2",fontSize:25,paddingLeft:17}}))),r.a.createElement(Pe.a,{placement:"topLeft",title:"Contract",arrowPointAtCenter:!0},r.a.createElement(We.a,{count:0},r.a.createElement(b.a,{type:"profile",style:{color:"#1da1f2",fontSize:25,paddingLeft:17}}))),r.a.createElement(qe.a,{overlay:s,trigger:["click"]},r.a.createElement(b.a,{type:"caret-down",style:{color:"#1da1f2",fontSize:25,paddingLeft:17}})))),r.a.createElement(g.a,{title:"Faucet HAK",width:250,visible:a,onOk:this.handleOk,onCancel:function(){e.setState({visible:!1})}},r.a.createElement(Ye.a,{defaultValue:n,min:1e6,max:1e7,style:{width:150,marginBottom:20,marginRight:10},formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},onChange:function(t){e.setState({amountFaucet:t})}}),r.a.createElement("span",{className:"ant-form-text"}," HAK"),r.a.createElement(Ye.a,{style:{marginRight:10},disabled:!0,defaultValue:.1,formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}}),r.a.createElement("span",{className:"ant-form-text"}," ETH")))}}]),t}(n.Component),tt=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{getBalance:function(t){return e((a=t,function(e){if(Ce){Ce=!1,k.a.provider.getBalance(a).then((function(t){var a=ve.ethers.utils.formatEther(t);e(we(a))})),k.a.provider.on(a,(function(t){var a=ve.ethers.utils.formatEther(t);e(we(a))}));var t=k.a.tokenAddress,n=k.a.tokenABI,r=k.a.provider,o=new ve.ethers.Contract(t,n,r),i=o.filters.Transfer(null,a);o.on(i,(function(t,a,n){console.log(Number(n)),console.log("I received "+n.toString()+" tokens from "+t),e({type:"SET_HAK_ADD",hak:Number(n)})}));var c=o.filters.Transfer(a);o.on(c,(function(t,a,n){console.log(Number(n)),console.log("I sended "+n.toString()+" tokens to "+a),e({type:"SET_HAK_SUB",hak:Number(n)})}))}}));var a}}}))(et),at=(a(555),a(123)),nt=a(67),rt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"footerdiv"},r.a.createElement("div",{className:"footercontent"},r.a.createElement(at.a,{gutter:8},r.a.createElement(nt.a,{className:"gutter-row",span:8},r.a.createElement("img",{src:Qe.a,className:"footerlogo",alt:"Justice music"}),r.a.createElement("h2",null,"Justice Music")),r.a.createElement(nt.a,{className:"gutter-row",span:8},r.a.createElement("div",{className:"footermiddlecol"},r.a.createElement("p",null," ",r.a.createElement(b.a,{type:"environment"})," Silicon Valley, United States"),r.a.createElement("p",null," ",r.a.createElement(b.a,{type:"mobile"})," 0372598218"),r.a.createElement("p",null," \xa9 2019 Justice Music All Rights Reserverd"))),r.a.createElement(nt.a,{className:"gutter-row",span:8},r.a.createElement("h2",null," About The Company"),r.a.createElement("p",null),r.a.createElement("p",null," We offer many solutions to protect your music copyright.  "))))))}}]),t}(r.a.Component);var ot=a(718),it=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"block"}},r.a.createElement(tt,{history:this.props.history,logOut:this.props.log_out}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",padding:10}},r.a.createElement("div",{style:{width:1100,minHeight:"calc(100vh - 270px)",backgroundColor:"#ffffff",padding:10}},this.props.main)),r.a.createElement(rt,null),r.a.createElement(ot.a,{visibilityHeight:"100"}))}}]),t}(n.Component),ct=Object(m.b)(null,(function(e){return{log_out:function(){return e({type:"LOG_OUT"})}}}))(it),st=a(132),lt=a(27),ut=a(727),pt=a(719),mt=a(692),dt=a(351),ft=a.n(dt),ht=a(742),gt=a(728),Et=a(137),yt=a(350),bt=a.n(yt),vt=a(352),Ot=a.n(vt),St=a(730),Ct=a(729),wt=a(721);var kt=Object(lt.a)({card:{margin:"10px"},title:{fontSize:14,maxWidth:"50vw"},div:{display:"table"},sender:{display:"flex",justifyContent:"flex-end"},seen:{color:"#bdbdbd"}})((function(e){var t,a,n=e.classes;return!0===e.sender&&(t=n.sender),!0===e.seen&&(a="seen"),r.a.createElement("li",{className:t,style:{listStyleType:"none"}},r.a.createElement("div",{className:n.div},r.a.createElement(pt.a,{className:n.card},r.a.createElement(wt.a,{style:{paddingBottom:"16px"}},r.a.createElement(Et.a,{className:n.title,color:"textSecondary",gutterBottom:!0},e.content))),r.a.createElement("div",{className:n.seen},a)))})),jt=a(180),_t=a(725),Dt=a(723),It=a(752),Tt=a(724),At=a(726),Rt=a(722),Pt=a(736),xt=a(136),Ft=a.n(xt),Ut=a(121),Nt=a.n(Ut);function Lt(){return new Promise((function(e,t){var a={userID:re.getState().userReducer.user.id};return C.a.post(k.a.api_url+"/chats/getListFriend",a,{headers:se()}).then((function(a){if(0===a.data.status)return t(a.data.error);e(a.data.result)})).catch((function(e){t(e)}))}))}function Mt(){return function(e){e({type:"CALLING_API"}),Lt().then((function(t){if(e(Ht(t)),t.length>=1){var a=t[0]._id;e(Gt(a)),e(zt(a)),e(Bt(t[0].email))}})).catch((function(t){e(Kt(t))}))}}function Gt(e){return function(t){t({type:"CALLING_API"}),function(e){return new Promise((function(t,a){var n={senderID:re.getState().userReducer.user.id,receiverID:e};return C.a.post(k.a.api_url+"/chats/getListMessage",n,{headers:se()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}(e).then((function(e){t(function(e){return{type:"SET_LIST_MESSAGE",listMessage:e}}(e))})).catch((function(e){t(Kt(e))}))}}function Ht(e){return{type:"SET_LIST_FRIEND",listFriend:e}}function Bt(e){return{type:"SET_TITLE_NAME",titleName:e}}function zt(e){return{type:"SET_RECEIVER_ID",receiverID:e}}function Kt(e){return{type:"FAIL",err:e}}function $t(e){return function(t){t({type:"FINDUSER_START"}),function(e){return new Promise((function(t,a){return C.a.get(k.a.api_url+"/users/find",{params:{keyword:e}}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){t(function(e){return{type:"FINDUSER_SUCCESSFUL",result:e}}(e))})).catch((function(e){t(function(e){return{type:"FINDUSER_FAIL",err:e}}(e))}))}}var Vt={avatar:{backgroundColor:Nt.a[100],color:Nt.a[600]}},qt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){a.props.onClose(a.props.selectedValue)},a.handleListItemClick=function(e,t){a.props.onClose(),a.props.set_title_name(t),a.props.getListMessage(e),a.props.select_user_to_chat(e)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=(t.onClose,t.selectedValue,Object(jt.a)(t,["classes","onClose","selectedValue"]));return r.a.createElement(Pt.a,Object.assign({onClose:this.handleClose,"aria-labelledby":"simple-dialog-title"},n),r.a.createElement(Rt.a,{id:"simple-dialog-title"},"List users"),r.a.createElement("div",null,r.a.createElement(Dt.a,null,this.props.chatReducer.dataFindUser.map((function(t){return r.a.createElement(It.a,{button:!0,onClick:function(){return e.handleListItemClick(t._id,t.email)},key:t._id},r.a.createElement(Tt.a,null,r.a.createElement(_t.a,{className:a.avatar},r.a.createElement(Ft.a,null))),r.a.createElement(At.a,{primary:t.email}))})))))}}]),t}(r.a.Component),Wt=Object(m.b)((function(e){return{chatReducer:e.chatReducer}}),(function(e){return{getListFriend:function(){return e(Mt())},getListMessage:function(t){return e(Gt(t))},select_user_to_chat:function(t){return e(zt(t))},set_title_name:function(t){return e(Bt(t))}}}))(Object(lt.a)(Vt)(qt)),Yt={avatar:{backgroundColor:Nt.a[100],color:Nt.a[600]},onlineBar:{textAlign:"right"}},Jt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleListItemClick=function(e,t){a.props.getListMessage(e),a.props.select_user_to_chat(e),a.props.set_title_name(t)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(Dt.a,null,this.props.chatReducer.listFriend.map((function(a){return a.socketID?r.a.createElement(It.a,{button:!0,onClick:function(){return e.handleListItemClick(a._id,a.email)},key:a._id},r.a.createElement(Tt.a,null,r.a.createElement(_t.a,{className:t.avatar},r.a.createElement(Ft.a,null))),r.a.createElement(At.a,{primary:a.email}),r.a.createElement(At.a,{primary:"online",className:t.onlineBar})):r.a.createElement(It.a,{button:!0,onClick:function(){return e.handleListItemClick(a._id,a.email)},key:a._id},r.a.createElement(Tt.a,null,r.a.createElement(_t.a,{className:t.avatar},r.a.createElement(Ft.a,null))),r.a.createElement(At.a,{primary:a.email}))}))))}}]),t}(r.a.Component),Qt=Object(m.b)((function(e){return{chatReducer:e.chatReducer}}),(function(e){return{getListFriend:function(){return e(Mt())},getListMessage:function(t){return e(Gt(t))},select_user_to_chat:function(t){return e(zt(t))},set_title_name:function(t){return e(Bt(t))}}}))(Object(lt.a)(Yt)(Jt));function Xt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xt(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ea=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleClickSearch=function(){a.setState({open:!0}),a.props.findUser(a.state.searchText)},a.handleClose=function(){a.setState({open:!1})},a.onClickLogOut=function(e){window.$socket.disconnect(),a.props.log_out(),localStorage.clear(),a.props.history.push("/login")},a.onFocusMessage=function(){var e=a.props.chatReducer.listMessage,t=e[e.length-1];if(t){var n={senderID:t.senderID,receiverID:t.receiverID};a.props.userReducer.user.id!==t.senderID&&window.$socket.emit("is seen",n)}},a.handleClickSend=function(){if(a.state.content){var e={senderID:a.props.userReducer.user.id,receiverID:a.props.chatReducer.receiverID,content:a.state.content},t={senderID:a.props.userReducer.user.id,content:a.state.content,date_created:Date(Date.now())};a.props.chatReducer.listFriend.find((function(e){return e._id===a.props.chatReducer.receiverID}))?window.$socket.emit("chat message",e):(window.$socket.emit("first message",e),window.$socket.on("return friend",(function(){a.props.getNewFriend()}))),a.props.push_message(t),a.setState({content:""});var n=document.getElementById("inputMessage");n.scrollTop=n.scrollHeight,window.$socket.emit("typing",Zt({},e,{isTyping:!1}))}},a.componentWillMount=function(){null===a.props.userReducer.user.accessToken&&a.props.history.push("/login"),a.props.getListFriend(),window.$socket.on("error",(function(e){alert("socket error"+e)})),window.$socket.on("chat message",(function(e){var t={senderID:e.senderID,receiverID:e.receiverID,content:e.content,date_created:Date(Date.now())};e.senderID===a.props.chatReducer.receiverID&&a.props.push_message(t)})),window.$socket.on("first message",(function(e){var t={senderID:e.senderID,receiverID:e.receiverID,content:e.content,date_created:Date(Date.now())};a.props.getListFriend(),e.senderID===a.props.chatReducer.receiverID&&a.props.push_message(t)})),window.$socket.on("is seen",(function(){a.props.getListMessage(a.props.chatReducer.receiverID)})),window.$socket.on("typing",(function(e){e.senderID===a.props.chatReducer.receiverID&&(!0===e.isTyping&&a.setState({typing:!0}),!1===e.isTyping&&a.setState({typing:!1}))}))},a.state={open:!1,searchText:"",content:"",typing:!1},a.socket=null,a.handleKeyPressSearch=a.handleKeyPressSearch.bind(Object(st.a)(a)),a.handleKeyPressMessage=a.handleKeyPressMessage.bind(Object(st.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleKeyPressSearch",value:function(e){"Enter"===e.key&&this.handleClickSearch()}},{key:"handleKeyPressMessage",value:function(e){var t={receiverID:this.props.chatReducer.receiverID,senderID:this.props.userReducer.user.id};"Enter"===e.key?this.handleClickSend(e):"Backspace"===e.key&&""===this.state.content&&window.$socket.emit("typing",Zt({},t,{isTyping:!1}))}},{key:"onTyping",value:function(e){this.setState({content:e.target.value});var t={receiverID:this.props.chatReducer.receiverID,senderID:this.props.userReducer.user.id};0===this.state.content.length&&(this.onFocusMessage(),window.$socket.emit("typing",Zt({},t,{isTyping:!0})))}},{key:"componentDidUpdate",value:function(){var e=document.getElementById("inputMessage");e.scrollTop=e.scrollHeight}},{key:"render",value:function(){var e=this,t=this.props.classes;return this.props.chatReducer.error&&(alert("Find user fail: "+this.props.chatReducer.error),this.props.signin_fail_handle()),r.a.createElement(ut.a,{container:!0,spacing:0},r.a.createElement(ut.a,{item:!0,xs:12,sm:3},r.a.createElement("div",{className:t.divTop,style:{borderRight:"1px solid #e0e0e0",justifyContent:"center"}},r.a.createElement(gt.a,null,"Chat realtime"))),r.a.createElement(ut.a,{item:!0,xs:12,sm:9},r.a.createElement("div",{className:t.divTop,style:{justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(Ct.a,{style:{padding:5}},r.a.createElement(bt.a,null)),this.props.userReducer.user.email),r.a.createElement(Et.a,{variant:"h6"},this.props.chatReducer.titleName),r.a.createElement(gt.a,{onClick:this.onClickLogOut},"Log out"))),r.a.createElement(ut.a,{item:!0,xs:12,sm:3},r.a.createElement("div",{className:t.divBottom,style:{borderRight:"1px solid #e0e0e0"}},r.a.createElement("div",{className:t.searchDiv},r.a.createElement(ht.a,{placeholder:"Search\u2026",classes:{root:t.inputSearchRoot,input:t.inputSearch},value:this.state.searchText,onChange:function(t){return e.setState({searchText:t.target.value})},onKeyPress:this.handleKeyPressSearch}),r.a.createElement(St.a,{className:t.divider}),r.a.createElement(Ct.a,{type:"submit",variant:"outlined",className:t.iconButton,onClick:this.handleClickSearch,disabled:this.props.chatReducer.isFindUser},r.a.createElement(ft.a,null)),r.a.createElement(Wt,{className:t.findUser,open:this.state.open,onClose:this.handleClose})),r.a.createElement("div",null,r.a.createElement(pt.a,{className:t.cardListFriend},r.a.createElement(Qt,null))))),r.a.createElement(ut.a,{item:!0,xs:12,sm:9},r.a.createElement("div",{className:t.divBottom},r.a.createElement(pt.a,{className:t.cardMessage},r.a.createElement("div",{id:"inputMessage",style:{overflow:"auto"}},r.a.createElement("ul",null,this.props.chatReducer.listMessage.map((function(t){if(t.senderID===e.props.userReducer.user.id){var a=e.props.chatReducer.listMessage,n=a[a.length-1];return t===n&&!0===n.isSeen?r.a.createElement(kt,{content:t.content,key:t._id,sender:!0,seen:!0}):r.a.createElement(kt,{content:t.content,key:t._id,sender:!0})}return r.a.createElement(kt,{content:t.content,key:t._id,sender:!1})})),r.a.createElement(Et.a,{style:{color:"#bdbdbd"}},this.state.typing?"Typing.......":""))),r.a.createElement("div",null,r.a.createElement(mt.a,{className:t.messageBar,elevation:4},r.a.createElement(ht.a,{className:t.input,onFocus:this.onFocusMessage,placeholder:"Message...",value:this.state.content,onChange:function(t){e.onTyping(t)},onKeyUp:this.handleKeyPressMessage}),r.a.createElement(St.a,{className:t.divider}),r.a.createElement(gt.a,{color:"secondary",onClick:function(t){e.handleClickSend(t)}},"Send",r.a.createElement(Ot.a,null))))))))}}]),t}(r.a.Component),ta=Object(m.b)((function(e){return{chatReducer:e.chatReducer,userReducer:e.userReducer}}),(function(e){return{findUser:function(t){return e($t(t))},findUser_fail_handle:function(){return e({type:"FINDUSER_FAIL_HANDLE"})},getListFriend:function(){return e(Mt())},getListMessage:function(t){return e(Gt(t))},push_message:function(t){return e(function(e){return{type:"PUSH_MESSAGE",arr:e}}(t))},getNewFriend:function(){return e((function(e){e({type:"CALLING_API"}),Lt().then((function(t){e(Ht(t))})).catch((function(t){e(Kt(t))}))}))},log_out:function(){return e({type:"LOG_OUT"})}}}))(Object(lt.a)((function(e){return{messageBar:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"},divider:{width:1,height:40,margin:4},divTop:{padding:e.spacing.unit,display:"flex",flexDirection:"row",borderBottom:"1px solid #e0e0e0"},divBottom:{height:"calc(100vh - "+15*e.spacing.unit+"px)",padding:2*e.spacing.unit},searchDiv:{background:"#e0e0e0",borderRadius:6,color:"#212121",display:"flex",flexDirection:"row"},iconButton:{background:"#bdbdbd"},input:{marginLeft:8,flex:1},inputSearchRoot:{width:"100%"},inputSearch:{paddingLeft:e.spacing.unit},cardMessage:{borderRadius:"6px",height:"calc(100vh - "+13*e.spacing.unit+"px)",display:"flex",flexDirection:"column",justifyContent:"flex-end"},cardListFriend:{marginTop:2*e.spacing.unit,borderRadius:"6px",height:"calc(100vh - "+21*e.spacing.unit+"px)",overflow:"auto"},findUser:{overflow:"auto",height:"calc(100vh - "+21*e.spacing.unit+"px)"},typing:{display:"none"}}}))(ea)),aa=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ct,{main:r.a.createElement(ta,null),history:this.props.history})}}]),t}(n.Component),na=a(731),ra=a(747),oa=a(746);function ia(){return function(e){new Promise((function(e,t){return C.a.get(k.a.api_url+"/actions/getHotUsers",{headers:se()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){e(function(e){return{type:"GET_HOT_USER_SUCCESSFUL",hotUserData:e}}(t))})).catch((function(e){console.log("Error at get getHotUsersAPI: "+e)}))}}function ca(){return function(e){e({type:"GET_HOME_DATA_START"}),new Promise((function(e,t){return C.a.get(k.a.api_url+"/actions/getHomeSongs",{headers:se()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){e(function(e){return{type:"GET_HOME_DATA_SUCCESSFUL",homeData:e}}(t))})).catch((function(t){e(function(e){return{type:"GET_HOME_DATA_FAIL",err:e}}(t))}))}}function sa(e){return{type:"SET_MUSIC_SELECTED",musicSelected:e}}function la(){return function(e){e({type:"RANKING_START"}),new Promise((function(e,t){return C.a.get(k.a.api_url+"/ethereums/getTimeRanking",{headers:se()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){e({type:"SET_RANKING",rankingdata:t})})).catch((function(t){e(function(e){return{type:"SET_ERR",err:e}}(t))}))}}a(558);var ua=h.a.Text,pa=h.a.Title,ma=[{},{},{},{},{},{},{},{},{},{}],da=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getRanking()}},{key:"render",value:function(){var e=this,t=this.props.appReducer.rankingdata;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(pa,{level:4,type:"secondary"}," B\u1ea2NG X\u1ebeP H\u1ea0NG TU\u1ea6N "),null===t?r.a.createElement(ra.a,{itemLayout:"horizontal",dataSource:ma,renderItem:function(e){return r.a.createElement(ra.a.Item,null,r.a.createElement(oa.a,{loading:!0,active:!0,paragraph:{rows:1},avatar:{shape:"square",size:70}}))}}):r.a.createElement(ra.a,{itemLayout:"horizontal",dataSource:t,renderItem:function(t,a){return t?r.a.createElement(ra.a.Item,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(pa,{level:4,style:{alignSelf:"center",marginRight:10},type:0===a?"danger":1===a?"warning":2===a?"":"secondary"},a+1)),r.a.createElement(Pe.a,{title:t.view+" view",placement:"leftTop"},r.a.createElement(ra.a.Item.Meta,{avatar:r.a.createElement(Ve.a,{shape:"square",size:70,src:window.$linkIPFS+t.image,onClick:function(){return e.props.history.push("/song/".concat(t._id))}}),title:r.a.createElement(O.a,{style:{textAlign:"left",padding:0,fontSize:14,height:20},type:"link",onClick:function(){e.props.set_music_selected(t)}},t.name),description:r.a.createElement("div",null,t.artist,r.a.createElement("br",null),r.a.createElement("div",{className:"row-space-between"},r.a.createElement(Pe.a,{title:t.userUpload.nickName,placement:"leftTop"},r.a.createElement(Ve.a,{shape:"circle",size:"small",src:window.$linkIPFS+t.userUpload.avatar,onClick:function(){return e.props.history.push("/page/".concat(t.userUpload.addressEthereum))}})),r.a.createElement(ua,{style:{alignSelf:"center"},code:!0},t.downloadWeekRanking," Downloads")))}))):null}}))}}]),t}(r.a.Component),fa=Object(f.g)(Object(m.b)((function(e){return{appReducer:e.appReducer}}),(function(e){return{set_music_selected:function(t){return e(sa(t))},getRanking:function(){return e(la())}}}))(da)),ha=a(748),ga=h.a.Text,Ea=ha.a.Meta,ya=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user;return r.a.createElement(Pe.a,{style:{display:"flex"},title:t.view+" view page",placement:"top",onClick:function(){return e.props.history.push("/page/".concat(t.addressEthereum))}},r.a.createElement(ha.a,{hoverable:!0,size:"small",cover:r.a.createElement(Ve.a,{alt:"music background",size:this.props.songPage?160:170,src:window.$linkIPFS+t.avatar}),bodyStyle:{padding:"10px",textAlign:"center"},bordered:!1,style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(Ea,{title:r.a.createElement(ga,{style:{fontSize:15},type:"warning"},t.nickName),description:r.a.createElement(ga,{style:{fontSize:14},type:"secondary"},t.follow," Follows")})))}}]),t}(r.a.Component),ba=Object(f.g)(Object(m.b)((function(e){return{}}),(function(e){return{set_music_selected:function(t){return e(sa(t))}}}))(ya)),va=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(oa.a,{active:!0,title:!1,avatar:{shape:"circle",size:180},paragraph:!1}),r.a.createElement(oa.a,{active:!0,title:{width:130},paragraph:{rows:1,width:180}}))}}]),t}(r.a.Component),Oa=h.a.Text,Sa=ha.a.Meta,Ca=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.songInfo,n=t.contract;return r.a.createElement(Pe.a,{title:a.view+" view song",placement:"top"},r.a.createElement(ha.a,{hoverable:!0,size:"small",cover:r.a.createElement("img",{onClick:function(){return e.props.history.push(n?"/mainContract/".concat(n):"/song/".concat(a._id))},className:"img-background-music",alt:"music background",src:window.$linkIPFS+a.image}),bodyStyle:{padding:"10px"},bordered:!1},r.a.createElement(Sa,{title:r.a.createElement(Pe.a,{style:{display:"flex",flexDirection:"column"},title:a.name,placement:"top",onClick:function(){e.props.set_music_selected(a)}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(O.a,{style:{textAlign:"left",padding:0,fontSize:13,height:20,width:"100%"},type:"link"},a.name),r.a.createElement(Oa,{style:{fontSize:13},type:"secondary"},a.artist))),description:r.a.createElement(Pe.a,{style:{display:"flex"},title:a.userUpload.nickName,placement:"bottom",onClick:function(){return e.props.history.push("/page/".concat(a.userUpload.addressEthereum))}},r.a.createElement(Ve.a,{shape:"circle",style:{marginRight:5},size:"small",src:window.$linkIPFS+a.userUpload.avatar}),r.a.createElement(O.a,{style:{textAlign:"left",padding:0,fontSize:14,height:20,width:"70%",overflow:"hiden"},type:"link"},r.a.createElement(Oa,{type:"warning",style:{alignSelf:"center"}},a.userUpload.nickName)))})))}}]),t}(r.a.Component),wa=Object(f.g)(Object(m.b)((function(e){return{}}),(function(e){return{set_music_selected:function(t){return e(sa(t))}}}))(Ca)),ka=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(oa.a,{active:!0,title:!1,avatar:{shape:"square",size:160},paragraph:!1}),r.a.createElement("br",null),r.a.createElement(oa.a,{active:!0,title:!1,avatar:{size:"small"},paragraph:{rows:1,width:120}}))}}]),t}(r.a.Component),ja=h.a.Title,_a=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getHomeSongs(),this.props.getHotUsers()}},{key:"render",value:function(){var e=this.props.appReducer;return r.a.createElement("div",null,r.a.createElement(at.a,{gutter:[8,0]},r.a.createElement(na.a,{autoplay:!0},r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%",height:"400px",objectFit:"cover"},alt:"Music test",src:"https://ipfs.fotra.tk/ipfs/QmQ6qMBCo3yT6QQ6mbGG4VgiauzDn9tJosCBFPTDFJ2AFd"})),r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%",height:"400px",objectFit:"cover"},alt:"Music test",src:"https://ipfs.fotra.tk/ipfs/QmUFZGKFic3GVeWmkeGu1p2BpAYMPj5ZTamvwv29uRBg4C"})),r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%",height:"400px",objectFit:"cover"},alt:"Music test",src:"https://ipfs.fotra.tk/ipfs/Qmc1qzzq83TfQQcLNtAbEGThQiBqP4EFgmtuotndbVZ8T1"})),r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%",height:"400px",objectFit:"cover"},alt:"Music test",src:"https://ipfs.fotra.tk/ipfs/QmUgWzqE6tJPrA1aKT7hQydgMARCe9akiX6yCDMmAHm9B1"})))),r.a.createElement(at.a,{gutter:[24,0],style:{marginTop:20}},r.a.createElement(nt.a,{span:17},r.a.createElement(at.a,{gutter:[8,0],style:{marginTop:20}},r.a.createElement(ja,{level:4,type:"secondary"},"THE MOST HEAD SONG")),r.a.createElement(at.a,{gutter:[8,0],type:"flex",justify:"space-around"},e.homeData?e.homeData.mostView.map((function(e){return r.a.createElement(nt.a,{key:e._id,span:6,style:{width:190,marginTop:20}},r.a.createElement(wa,{songInfo:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(nt.a,{span:6,style:{marginTop:20}},r.a.createElement(ka,null)),r.a.createElement(nt.a,{span:6,style:{marginTop:20}},r.a.createElement(ka,null)),r.a.createElement(nt.a,{span:6,style:{marginTop:20}},r.a.createElement(ka,null)),r.a.createElement(nt.a,{span:6,style:{marginTop:20}},r.a.createElement(ka,null)))),r.a.createElement(at.a,{gutter:[8,0],style:{marginTop:20}},r.a.createElement(ja,{level:4,type:"secondary"},"NEW RELEASE")),r.a.createElement(at.a,{gutter:[8,0],type:"flex",justify:"space-around"},e.homeData?e.homeData.mostNew.map((function(e){return r.a.createElement(nt.a,{key:e._id,span:6,style:{width:190,marginTop:20}},r.a.createElement(wa,{songInfo:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(nt.a,{span:6,style:{marginTop:20}},r.a.createElement(ka,null)),r.a.createElement(nt.a,{span:6,style:{marginTop:20}},r.a.createElement(ka,null)),r.a.createElement(nt.a,{span:6,style:{marginTop:20}},r.a.createElement(ka,null)),r.a.createElement(nt.a,{span:6,style:{marginTop:20}},r.a.createElement(ka,null)))),r.a.createElement(at.a,{gutter:[8,0],style:{marginTop:20}},r.a.createElement(ja,{level:4,type:"secondary"},"HOT SINGER")),r.a.createElement(at.a,{gutter:[8,0],type:"flex",justify:"space-around"},e.hotUserData?e.hotUserData.map((function(e){return r.a.createElement(nt.a,{key:e._id,span:6,style:{width:180,marginTop:20}},r.a.createElement(ba,{user:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(nt.a,{span:6,style:{marginTop:20}},r.a.createElement(va,null)),r.a.createElement(nt.a,{span:6,style:{marginTop:20}},r.a.createElement(va,null)),r.a.createElement(nt.a,{span:6,style:{marginTop:20}},r.a.createElement(va,null)),r.a.createElement(nt.a,{span:6,style:{marginTop:20}},r.a.createElement(va,null))))),r.a.createElement(nt.a,{span:7},r.a.createElement(fa,null))))}}]),t}(n.Component),Da=Object(m.b)((function(e){return{appReducer:e.appReducer}}),(function(e){return{getHomeSongs:function(){return e(ca())},getHotUsers:function(){return e(ia())}}}))(_a),Ia=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ct,{main:r.a.createElement(Da,null),history:this.props.history})}}]),t}(n.Component),Ta=(a(570),h.a.Text,function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"view"},r.a.createElement("img",{src:Qe.a,alt:"Justice music",style:{width:"70px",height:"70px"}}),r.a.createElement("a",{class:"plane main",href:"https://jumu.tk/login"},r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"})))}}]),t}(n.Component)),Aa=a(242),Ra=(a(571),a(751)),Pa=a(733),xa=a(735),Fa=a(732);function Ua(e){return function(t){t(za(!0)),he(e).then((function(e){t({type:"SET_USER_ISO_DATA",isoData:e})})).then((function(){t(za(!1))})).catch((function(e){t(za(!1)),t($a(e))}))}}function Na(e){return function(t){t(Ba(!0)),function(e){return new Promise((function(t,a){return C.a.get(k.a.api_url+"/ethereums/getUserDownload/".concat(e),{headers:se()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){t({type:"SET_USER_DOWNLOAD_DATA",downloadData:e})})).then((function(){t(Ba(!1))})).catch((function(e){t(Ba(!1)),t($a(e))}))}}function La(e){return function(t){t(Ha(!0)),function(e){return new Promise((function(t,a){return C.a.get(k.a.api_url+"/ethereums/getUserUpload/".concat(e),{headers:se()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){t({type:"SET_USER_UPLOAD_DATA",uploadData:e})})).then((function(){t(Ha(!1))})).catch((function(e){t(Ha(!1)),t($a(e))}))}}function Ma(e){return function(t){t(Ka(!0)),function(e){return new Promise((function(t,a){return C.a.get(k.a.api_url+"/actions/userPage?userName="+e,{headers:se()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){return t({type:"SET_USER_INFO_DATA",userInfoData:e}),e})).then((function(e){t(Ka(!1)),t(La(e.addressEthereum)),t(Na(e.addressEthereum)),t(Ua(e.addressEthereum))})).catch((function(e){t(Ka(!1)),t({type:"SET_ERROR_GET_USER_PAGE",errorPage:e})}))}}function Ga(e){return{type:"SET_IS_FOLLOW_PAGE",setFollow:e}}function Ha(e){return{type:"SET_LOADING_UPLOAD",loadingUpload:e}}function Ba(e){return{type:"SET_LOADING_DOWNLOAD",loadingDownload:e}}function za(e){return{type:"SET_LOADING_ISO",loadingIsoData:e}}function Ka(e){return{type:"SET_LOADING_USER_INFO",loadingUserData:e}}function $a(e){return{type:"SET_ERROR_GET_USER_UPLOAD",errorUpload:e}}function Va(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var qa=h.a.Text,Wa=E.a.create({name:"form_in_modal"})(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={date:86400},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCancel,o=t.onCreate,i=t.form.getFieldDecorator;return r.a.createElement(g.a,{visible:a,title:"Using ISO",okText:"Submit",onCancel:n,onOk:o},r.a.createElement(E.a,{layout:"horizontal"},r.a.createElement(E.a.Item,{label:"Offer Percent"},i("offerPercent",{rules:[{required:!0,message:"Please input cost of this song!"}],initialValue:5e3})(r.a.createElement(Ye.a,{min:1,max:5e4,step:1,style:{width:150},formatter:function(e){return"".concat(e,"%").replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace("%","").replace(/\$\s?|(,*)/g,"")}}))),r.a.createElement(E.a.Item,{label:"Offer Amount"},i("offerAmount",{rules:[{required:!0,message:"Please input cost of this song!"}],initialValue:1e6})(r.a.createElement(Ye.a,{min:0,style:{width:150},formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}}))),r.a.createElement(E.a.Item,{label:"Offer Maintain"},i("maintain",{rules:[{required:!0,message:"Please input cost of this song!"}],initialValue:this.state.date,onChange:function(t){e.setState({date:t})}})(r.a.createElement(Ye.a,{min:0,max:2592e3,style:{width:150},formatter:function(e){return"\ud83d\udd57 ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\ud83d\udd57\s?|(,*)/g,"")}})))))}}]),t}(r.a.Component)),Ya=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.formRef.props.form;e.validateFields((function(t,n){if(t)return Fa.a.error("Please fill out all fields");a.openUploadNotification(n),e.resetFields(),a.setState({visible:!1})}))},a.openUploadNotification=function(e){le("Uploading ...");var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Va(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Va(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{idFile:a.props.idFile});console.log(t),function(e){return new Promise((function(t,a){return C.a.post(k.a.api_url+"/ethereums/usingISO",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))}(t).then((function(e){pe(e),k.a.provider.waitForTransaction(e).then((function(){a.props.getISOAddress(a.props.userReducer.user.addressEthereum)}))})).catch((function(e){ue(e)}))},a.saveFormRef=function(e){a.formRef=e},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.circle?r.a.createElement(Pe.a,{title:"Using ISO this song",placement:"top"},r.a.createElement(O.a,{disabled:this.props.disabled,shape:"circle",type:"danger",ghost:!0,icon:"usergroup-add",onClick:this.showModal})):r.a.createElement(Pe.a,{title:"Using ISO this song",placement:"leftTop"},r.a.createElement(O.a,{disabled:this.props.disabled,type:"danger",ghost:!0,icon:"usergroup-add",onClick:this.showModal},r.a.createElement(qa,null,"Using ISO"))),r.a.createElement(Wa,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(r.a.Component),Ja=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{getISOAddress:function(t){return e(Ua(t))}}}))(Ya),Qa=h.a.Text,Xa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleBuySong=function(e){le("Downloading ..."),fe({_idFile:e}).then((function(e){pe(e),k.a.provider.waitForTransaction(e).then((function(){a.props.getUserDownload(a.props.userReducer.user.addressEthereum)}))})).catch((function(e){ue(e)}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.circle?r.a.createElement(Pe.a,{title:"Buy this song",placement:"top"},r.a.createElement(O.a,{shape:"circle",type:"primary",ghost:!0,icon:"download",onClick:function(){e.handleBuySong(e.props.idFile)}})):r.a.createElement(Pe.a,{title:"Buy this song",placement:"leftTop"},r.a.createElement(O.a,{type:"primary",ghost:!0,icon:"download",onClick:function(){e.handleBuySong(e.props.idFile)}},r.a.createElement(Qa,null,"Buy"))))}}]),t}(r.a.Component),Za=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{getUserDownload:function(t){return e(Na(t))}}}))(Xa),en=h.a.Text,tn=h.a.Title,an=ha.a.Meta,nn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleBuySong=function(e){le("Downloading ..."),fe({_idFile:e}).then((function(e){pe(e),k.a.provider.waitForTransaction(e).then((function(){a.props.getUserDownload(a.props.userReducer.user.addressEthereum)}))})).catch((function(e){ue(e)}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=[{title:"songInfo",dataIndex:"music",render:function(t){return r.a.createElement(an,{avatar:r.a.createElement(Ve.a,{shape:"square",size:50,src:window.$linkIPFS+t.image,alt:"Music photo",onClick:function(){return e.props.history.push("/song/".concat(t._id))}}),title:r.a.createElement(O.a,{style:{textAlign:"left",padding:0,fontSize:14,height:20},type:"link",onClick:function(){e.props.set_music_selected(t)}},t.name),description:r.a.createElement(en,{type:"secondary"},t.artist)})}},{title:"Tags",key:"tags",render:function(){return r.a.createElement("span",null,r.a.createElement(Ra.a,{color:"volcano"},"HOT"))}},{title:"view",dataIndex:"music.view",render:function(e){return r.a.createElement("div",null,r.a.createElement(b.a,{type:"customer-service",style:{marginRight:"10px",color:"#1da1f2",fontSize:17}}),r.a.createElement(en,{type:"secondary"},me(e)))}},{title:"cost",render:function(e){return r.a.createElement("div",null,r.a.createElement(b.a,{type:"pay-circle",style:{marginRight:"10px",color:"#1da1f2",fontSize:17}}),r.a.createElement(en,{type:"secondary"},me(e.price)," HAK"))}},{title:"action",key:"action",render:function(t){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Ja,{disabled:!(!t.IsISO&&e.props.userReducer.user.id===e.props.pageReducer.userInfoData._id),idFile:t.idFile,circle:!0}),r.a.createElement(Pa.a,{type:"vertical",style:{height:"30px"}}),r.a.createElement(Pe.a,{title:"Get a contract",placement:"top"},r.a.createElement(O.a,{type:"primary",shape:"circle",icon:"solution",ghost:!0,onClick:function(){return e.props.history.push("".concat(t.music.userUpload==e.props.userReducer.user.id?"/contractFormManager":"/tempContract/".concat(t.music._id)))}})),r.a.createElement(Pa.a,{type:"vertical",style:{height:"30px"}}),r.a.createElement(Za,{idFile:t.idFile,circle:!0}))}}];return r.a.createElement(xa.a,{size:"middle",showHeader:!1,title:function(){return r.a.createElement(tn,{level:4,style:{color:"#2daaed"}},e.props.tableUpload?'B\xc0I H\xc1T C\u1ee6A "'.concat(e.props.pageName,'"'):'B\xc0I H\xc1T M\xc0 "'.concat(e.props.pageName,'" \u0110\xc3 MUA'))},columns:t,rowKey:function(e){return e.idFile},dataSource:this.props.tableUpload?this.props.pageReducer.uploadData:this.props.pageReducer.downloadData,loading:this.props.tableUpload?this.props.pageReducer.loadingUpload:this.props.pageReducer.loadingDownload})}}]),t}(r.a.Component),rn=Object(f.g)(Object(m.b)((function(e){return{pageReducer:e.pageReducer,userReducer:e.userReducer}}),(function(e){return{getUserDownload:function(t){return e(Na(t))},set_music_selected:function(t){return e(sa(t))}}}))(nn)),on=a(124);a(606);function cn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var sn=h.a.Text,ln=E.a.create({name:"form_in_modal"})(function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,o=e.form.getFieldDecorator;return r.a.createElement(g.a,{visible:t,title:"Invest ISO",okText:"Submit",onCancel:a,onOk:n},r.a.createElement(E.a,{layout:"horizontal"},r.a.createElement(E.a.Item,{label:"Offer Amount"},o("investAmount",{rules:[{required:!0,message:"Please input amount to invest!"}],initialValue:0})(r.a.createElement(Ye.a,{min:0,style:{width:150},formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}})))))}}]),t}(r.a.Component)),un=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.formRef.props.form;e.validateFields((function(t,n){if(t)return Fa.a.error("Please fill out all fields");a.openUploadNotification(n),e.resetFields(),a.setState({visible:!1})}))},a.openUploadNotification=function(e){le("Invest Loading ...");var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?cn(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{idFile:a.props.idFile});console.log(t),function(e){return new Promise((function(t,a){return C.a.post(k.a.api_url+"/ethereums/investISO",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))}(t).then((function(e){pe(e)})).catch((function(e){ue(e)}))},a.saveFormRef=function(e){a.formRef=e},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Pe.a,{title:"Invest this song",placement:"leftTop"},r.a.createElement(O.a,{disabled:this.props.disabled,type:"primary",ghost:!0,icon:"bg-colors",onClick:this.showModal},r.a.createElement(sn,null,"Invest"))),r.a.createElement(ln,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(r.a.Component),pn=h.a.Paragraph,mn=h.a.Text,dn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(pn,{style:{padding:5,margin:5},ellipsis:!0},r.a.createElement(mn,{strong:!0},this.props.title," : "),r.a.createElement(mn,null,this.props.link?r.a.createElement("a",{href:this.props.link},this.props.content):r.a.createElement(mn,{type:"secondary"}," ",this.props.content," ")))}}]),t}(r.a.Component),fn=h.a.Text,hn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"onClickOk",value:function(e){this.setState({visible:e})}},{key:"onClickCancel",value:function(e){this.setState({visible:e})}},{key:"render",value:function(){var e=this,t=this.props.record,a=[{title:"Address",dataIndex:"investor",key:"address",ellipsis:!0,render:function(t){return r.a.createElement(O.a,{style:{textAlign:"left",padding:0,fontSize:14},type:"link",onClick:function(){return e.props.history.push("/page/".concat(t))}},t)}},{title:"Invest percent",dataIndex:"percentage",key:"percent",render:function(e){return r.a.createElement(fn,null,parseFloat(e/1e3).toFixed(3)," %")}},{title:"Invest Amount",dataIndex:"amount",key:"amount",render:function(e){return r.a.createElement(fn,null,me(e)," HAK")}}];return r.a.createElement("div",null,r.a.createElement(Pe.a,{title:"Show more details of this song",placement:"rightTop"},r.a.createElement(O.a,{type:"primary",ghost:!0,icon:"info-circle",onClick:this.showModal},r.a.createElement(fn,null,"Detail ISO"))),r.a.createElement(g.a,{title:t.music.name+" - ISO",bodyStyle:{padding:0,margin:0},visible:this.state.visible,onCancel:function(){return e.onClickCancel(!1)},footer:[r.a.createElement(un,{disabled:ie().unix()>=t.timeExpired,idFile:t.idFile,center:!0})]},r.a.createElement(Cn,{record:t,action:!1}),r.a.createElement(dn,{title:"Total Offer Amount",content:me(t.offerAmount)+" HAK"}),r.a.createElement(dn,{title:"Total Offer Percent",content:parseFloat(t.offerPercent/1e3).toFixed(3)+"%"}),r.a.createElement(dn,{title:"Amount Remaining",content:me(t.amountRemaining)+" HAK"}),r.a.createElement(dn,{title:"Owner Percent Remaining",content:parseFloat(t.ownerPercent/1e3).toFixed(3)+"%"}),r.a.createElement(dn,{title:"Invest table",content:""}),r.a.createElement(xa.a,{rowKey:function(e){return e.idFile},columns:a,dataSource:t.investListISO,pagination:!1})))}}]),t}(r.a.Component),gn=Object(f.g)(Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{}}))(hn)),En=a(744),yn=a(362),bn=ha.a.Meta,vn=En.a.Countdown,On=h.a.Text,Sn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.record,n=t.action;return r.a.createElement(ha.a,{hoverable:!0,cover:r.a.createElement("img",{className:"img-background-music",alt:"music background",src:window.$linkIPFS+a.music.image}),bodyStyle:{padding:"15px",width:"100%",border:"0px solid green"},actions:n?[r.a.createElement(gn,{record:a})]:null},r.a.createElement(bn,{style:{paddingBottom:10},avatar:r.a.createElement(Ve.a,{size:59,src:window.$linkIPFS+a.user.avatar,alt:a.user.nickName}),title:r.a.createElement(O.a,{style:{textAlign:"left",padding:0,fontSize:16},type:"link",onClick:function(){return e.props.history.push("/page/".concat(a.user.addressEthereum))}},r.a.createElement(On,{style:{fontSize:16},type:"warning"},a.user.nickName)),description:r.a.createElement(On,null," ",me(a.user.follow)," Follow ")}),r.a.createElement(O.a,{style:{textAlign:"center",padding:0,fontSize:14,height:20},type:"link",onClick:function(){return e.props.history.push("/song/".concat(a.music._id))}},a.music.name),r.a.createElement("br",null),r.a.createElement(On,{type:"secondary",style:{marginTop:"10px"}},"Percent"),r.a.createElement(yn.a,{style:{paddingRight:"10px"},strokeColor:{from:"#108ee9",to:"#FF5733"},percent:Number(parseFloat(100-100*a.amountRemaining/a.offerAmount).toFixed(1)),status:"active",showInfo:!0}),ie().unix()>=a.timeExpired?r.a.createElement("div",null,r.a.createElement(On,{type:"secondary"},"Time Remaining"),r.a.createElement("br",null),r.a.createElement(On,{style:{fontSize:18},type:"danger"},"Expired")):r.a.createElement(vn,{title:"Time Remaining",valueStyle:{fontSize:"16px"},value:1e3*a.timeExpired,format:"D Ng\xe0y H Gi\u1edd m Ph\xfat s"}))}}]),t}(r.a.Component),Cn=Object(f.g)(Sn),wn=(a(616),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props.pageReducer.isoData.length),r.a.createElement("div",{style:{width:"100%"}},this.props.pageReducer.loadingIsoData?r.a.createElement("div",{className:"loading-data-iso"}," ",r.a.createElement(_.a,{size:"large"})," "):0===this.props.pageReducer.isoData.length?r.a.createElement("div",{className:"loading-data-iso"}," ",r.a.createElement(on.a,{image:on.a.PRESENTED_IMAGE_SIMPLE})," "):r.a.createElement(at.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},this.props.pageReducer.isoData.map((function(e){return r.a.createElement(nt.a,{key:e.idFile,span:8},r.a.createElement(Cn,{record:e,action:!0}))}))))}}]),t}(r.a.Component)),kn=Object(m.b)((function(e){return{pageReducer:e.pageReducer}}),(function(e){return{getISOAddress:function(t){return e(he(t))}}}))(wn),jn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Re.a,{status:"404",title:"404",subTitle:this.props.subTitle,extra:r.a.createElement(O.a,{type:"primary",onClick:function(){return e.props.history.push("/home")}},"Back Home")})}}]),t}(r.a.Component),_n=a(734),Dn=a(737);function In(e,t){if("Image"===t){var a="image/jpeg"===e.type||"image/png"===e.type;a||Fa.a.error("You can only upload JPG/PNG file!");var n=e.size/1024/1024<2;return n||Fa.a.error("Image must smaller than 2MB!"),a&&n}if("Music"===t){var r="audio/mp3"===e.type;return r||Fa.a.error("You can only upload Mp3 file!"),r}}var Tn=E.a.create({name:"form_in_modal"})(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={USD:0,costUSD:23e3},a.resetUSD=function(){a.setState({USD:0})},a.normFileMusic=function(e){return In(e.file,"Music")?(console.log("Upload event:",e),Array.isArray(e)?e:(2===e.fileList.length&&(e.fileList=e.fileList.slice(-1)),e&&e.fileList)):void 0},a.normFileImage=function(e){return In(e.file,"Image")?(console.log("Upload event:",e),Array.isArray(e)?e:(2===e.fileList.length&&(e.fileList=e.fileList.slice(-1)),e&&e.fileList)):void 0},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCancel,o=t.onCreate,i=t.form.getFieldDecorator,c=Ae.a.Option;return r.a.createElement(g.a,{visible:a,title:"Upload media",okText:"Submit",onCancel:n,onOk:o},r.a.createElement(E.a,{layout:"vertical"},r.a.createElement(E.a.Item,{label:"Media's name"},i("SongName",{rules:[{required:!0,message:"Please input the name of this song!"}]})(r.a.createElement(y.a,{placeholder:"Please select song's name"}))),r.a.createElement(E.a.Item,{label:"Artists's name"},i("ArtistsName",{rules:[{required:!0,message:"Please input artists'name!"}]})(r.a.createElement(y.a,{placeholder:"Please select artists's name"}))),r.a.createElement(E.a.Item,{label:"Tags"},i("Tags",{rules:[{message:"Please select song's tag ",type:"array"}]})(r.a.createElement(Ae.a,{mode:"multiple",placeholder:"Please select song's tag"},r.a.createElement(c,{value:"Rap"},"Rap"),r.a.createElement(c,{value:"Rock"},"Rock"),r.a.createElement(c,{value:"young"},"Young"),r.a.createElement(c,{value:"pre-war"},"Pre-war"),r.a.createElement(c,{value:"lyrical"},"Lyrical"),r.a.createElement(c,{value:"US-UK"},"US-UK")))),r.a.createElement(E.a.Item,{label:"Price HAK"},i("Price",{rules:[{required:!0,message:"Please input cost of this song!"}],initialValue:0,onChange:function(t){e.setState({USD:t/e.state.costUSD})}})(r.a.createElement(Ye.a,{min:0,max:1e10})),r.a.createElement("span",{className:"ant-form-text"}," HAK"),r.a.createElement("span",{className:"ant-form-text"},"\u279c   ",this.state.USD," USD")),r.a.createElement(E.a.Item,{label:"Contract permission"},i("ContractPermission",{initialValue:!0,valuePropName:"checked"})(r.a.createElement(_n.a,null))),r.a.createElement(E.a.Item,{label:"Upload Image"},i("Image",{valuePropName:"fileList",getValueFromEvent:this.normFileImage})(r.a.createElement(Dn.a,{name:"file",action:k.a.api_url+"/users/upload",listType:"picture"},r.a.createElement(O.a,null,r.a.createElement(b.a,{type:"upload"})," Click to upload image")))),r.a.createElement(E.a.Item,{label:"Upload Music"},i("Music",{valuePropName:"fileList",getValueFromEvent:this.normFileMusic,rules:[{required:!0}]})(r.a.createElement(Dn.a.Dragger,{action:k.a.api_url+"/users/upload"},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(b.a,{type:"inbox"})),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload music"))))))}}]),t}(r.a.Component)),An=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.formRef.props.form;e.validateFields((function(t,n){return t?Fa.a.error("please fill out all fields"):"uploading"==n.Music[0].status||"uploading"==n.Image[0].status?g.a.error({title:"Please waiting for music or image upload!"}):(e.resetFields(),a.child.resetUSD(),a.setState({visible:!1}),void a.openUploadNotification(n))}))},a.saveFormRef=function(e){a.formRef=e},a.openUploadNotification=function(e){le("Uploading ..."),console.log(e),function(e){return new Promise((function(t,a){return C.a.post(k.a.api_url+"/ethereums/upload",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))}({ether:{hash:e.Music[0].response.result,price:e.Price},server:{hash:e.Music[0].response.result,image:e.Image[0].response.result,name:e.SongName,artist:e.ArtistsName,tags:e.Tags,contractPermission:e.ContractPermission}}).then((function(e){pe(e),k.a.provider.waitForTransaction(e).then((function(){return a.props.getUserUpload(a.props.userReducer.user.addressEthereum),g.a.success({title:"Update contract success!"})}))})).catch((function(e){return ue("Please check your balance and upload again!"),g.a.error({title:'Error: "Please check your balance and upload again!"'})}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(O.a,{type:"danger",onClick:this.showModal},"Upload"),r.a.createElement(Tn,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,onRef:function(t){return e.child=t}}))}}]),t}(r.a.Component),Rn=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{getUserUpload:function(t){return e(La(t))}}}))(An);function Pn(){return function(e){new Promise((function(e,t){return C.a.get(k.a.api_url+"/actions/getRelatedUser",{headers:se()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){e(function(e){return{type:"GET_RELATED_USER_SUCCESSFUL",relatedUserData:e}}(t))})).catch((function(e){console.log("Error at get relatedUserData: "+e)}))}}function xn(e){return function(t){(function(e){return new Promise((function(t,a){return C.a.get(k.a.api_url+"/actions/getSongSameSinger/?idUserUpload=".concat(e.idUserUpload,"&exceptedSongID=").concat(e.exceptedSongID),{headers:se()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))})(e).then((function(e){t(function(e){return{type:"GET_SONG_SAME_SINGER_SUCCESSFUL",songSameSingerData:e}}(e))})).catch((function(e){console.log("Error at get songSameSingerData: "+e)}))}}function Fn(e){return function(t){t(Un(!0)),function(e){return new Promise((function(t,a){return C.a.get(k.a.api_url+"/actions/getSongByID?id="+e,{headers:se()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){t(function(e){return{type:"SET_SONG_DATA",songInfo:e}}(e)),t(xn({idUserUpload:e.userUpload._id,exceptedSongID:e._id}))})).then((function(){t(Un(!1))})).catch((function(e){t(Un(!1)),t({type:"SET_ERROR_GET_SONG_DATA",error:e})}))}}function Un(e){return{type:"SET_LOADING_SONG_DATA",isLoading:e}}var Nn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onHanleFollow=function(e){(function(e){return new Promise((function(t,a){return C.a.post(k.a.api_url+"/actions/follow",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))})({followedID:a.props.ownerSongID}).then((function(t){a.props.isPage?a.props.set_is_follow_page(e):(console.log("this is console log is page"),console.log(a.props.isPage),a.props.set_is_follow_song(e))}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.props.ownerSongID===this.props.userReducer.user.id?r.a.createElement(Rn,null):r.a.createElement(O.a,{type:"danger",onClick:function(){return e.onHanleFollow(!e.props.isFollowed)}},this.props.isFollowed?"Unfollow":"Follow")}}]),t}(r.a.Component),Ln=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{set_is_follow_song:function(t){return e(function(e){return{type:"SET_IS_FOLLOW_SONG",setFollow:e}}(t))},set_is_follow_page:function(t){return e(Ga(t))}}}))(Nn),Mn=h.a.Paragraph,Gn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.link,n=e.content;return r.a.createElement("div",{style:{display:"flex",alignItems:"center",paddingBottom:5,marginBottom:15}},r.a.createElement(b.a,{type:t,style:{marginRight:10,fontSize:16,color:"#1da1f2"}}),r.a.createElement(Mn,{style:{marginBottom:0},ellipsis:!0},r.a.createElement("a",{href:a,style:{color:"#888888"}},n)))}}]),t}(r.a.Component),Hn=Aa.a.TabPane,Bn=h.a.Title,zn=h.a.Text,Kn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.userName;t!==this.props.userName&&this.props.getUserPage(t)}},{key:"componentDidMount",value:function(){var e;this.props.getUserPage(this.props.userName),e={userName:this.props.userName},new Promise((function(t,a){return C.a.post(k.a.api_url+"/users/postViewUser",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}},{key:"render",value:function(){if(this.props.pageReducer.errorPage)return r.a.createElement(jn,{history:this.props.history,subTitle:"Page not found. Please try another link!"});if(!this.props.pageReducer.userInfoData)return r.a.createElement(Fe,null);var e=this.props.pageReducer.userInfoData,t=e.follow,a=e.phone,n=e.facebook,o=e.youtube,i=e.home,c=e.coverPhoto,s=e.avatar,l=e.nickName,u=e._id,p=e.isFollowed,m=r.a.createElement(Ln,{ownerSongID:u,isFollowed:p,isPage:!0});return r.a.createElement("div",null,r.a.createElement(at.a,null,r.a.createElement(nt.a,{span:24},r.a.createElement("div",{style:{width:"100%",height:"300px",backgroundImage:"url('https://ipfs.fotra.tk/ipfs/".concat(c,"')"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center"}}))),r.a.createElement(at.a,{style:{paddingTop:"15px"}},r.a.createElement(nt.a,{span:6},r.a.createElement("div",{className:"logo-name"},r.a.createElement("div",{style:{padding:"15px"}},r.a.createElement(Ve.a,{style:{boxShadow:"0 0 60px 2px #f29f99"},size:160,src:window.$linkIPFS+s,alt:"Avatar photo"})),r.a.createElement("div",null,r.a.createElement(Bn,{level:4},l),r.a.createElement(zn,{type:"secondary"},t," Follow"))),a?r.a.createElement(Gn,{icon:"phone",link:"linkPhone",content:a}):null,o?r.a.createElement(Gn,{icon:"youtube",link:"linkYoutube",content:o}):null,n?r.a.createElement(Gn,{icon:"facebook",link:"linkFacebook",content:n}):null,i?r.a.createElement(Gn,{icon:"home",link:"linkHome",content:i}):null),r.a.createElement(nt.a,{span:18},r.a.createElement(Aa.a,{tabBarExtraContent:m},r.a.createElement(Hn,{tab:"B\xe0i h\xe1t \u0111\xe3 \u0111\u0103ng",key:"1"},r.a.createElement(rn,{tableUpload:!0,pageName:l})),r.a.createElement(Hn,{tab:"ISO",key:"2"},r.a.createElement(kn,null)),r.a.createElement(Hn,{tab:"B\xe0i h\xe1t \u0111\xe3 mua",key:"3"},r.a.createElement(rn,{pageName:l})),r.a.createElement(Hn,{tab:"S\u1ef1 ki\u1ec7n",key:"4"},"Content of tab 1")))))}}]),t}(n.Component),$n=Object(m.b)((function(e){return{pageReducer:e.pageReducer,userReducer:e.userReducer}}),(function(e){return{getUserPage:function(t){return e(Ma(t))},set_is_follow_page:function(t){return e(Ga(t))}}}))(Kn),Vn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ct,{main:r.a.createElement($n,{userName:this.props.match.params.userName,history:this.props.history}),history:this.props.history})}}]),t}(n.Component),qn=(a(652),a(359)),Wn=a.n(qn),Yn=a(740);a(323);function Jn(e){var t=e.className,a=e.seconds;return r.a.createElement("time",{dateTime:"P".concat(Math.round(a),"S"),className:t},function(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),r=Qn(t.getUTCSeconds());if(a)return"".concat(a,":").concat(Qn(n),":").concat(r);return"".concat(n,":").concat(r)}(a))}function Qn(e){return("0"+e).slice(-2)}var Xn=a(360),Zn=a.n(Xn);function er(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function tr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?er(a,!0).forEach((function(t){Object(U.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):er(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ar=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={totalSeconds:0,loop:!0,playing:!0,playingIcon:"pause",loopIcon:"redo",loadingInfo:{},volume:.3},a.onHandleClickPlaying=function(){var e=a.state,t=e.playing,n=e.playingIcon;a.setState({playing:!t,playingIcon:"pause"===n?"caret-right":"pause"})},a.onHandleClickLoop=function(){var e=a.state,t=e.loop,n=e.loopIcon;a.setState({loop:!t,loopIcon:"redo"===n?"close":"redo"})},a.onChangeSeek=function(e){isNaN(e)||(a.setState({loadingInfo:tr({},a.state.loadingInfo,{playedSeconds:e})}),a.player.seekTo(parseFloat(e)))},a.onChangeVolume=function(e){isNaN(e)||a.setState({volume:e/100})},a.Tooltip=function(e){return r.a.createElement(Jn,{seconds:e})},a.ref=function(e){a.player=e},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.totalSeconds,n=t.playing,o=t.loop,i=t.playingIcon,c=t.loopIcon,s=t.loadingInfo,l=t.volume,u=this.props,p=u.isDetail,m=u.imageHash,d=u.musicHash;return r.a.createElement("div",{className:p?"detailPlayer":"nowPlayer"},r.a.createElement(Wn.a,{ref:this.ref,volume:l,loop:o,url:window.$linkIPFS+d,playing:n,width:"0",height:"0",onProgress:function(t){e.setState({loadingInfo:t})},onDuration:function(t){e.setState({totalSeconds:t})}}),r.a.createElement(O.a,{shape:"circle",size:"large",icon:"step-backward",className:"icon-formart"}),r.a.createElement(Pe.a,{title:n?"Play":"Stop"},r.a.createElement(O.a,{shape:"circle",size:"large",icon:i,className:"icon-formart",onClick:function(){e.onHandleClickPlaying()}})),r.a.createElement(O.a,{shape:"circle",size:"large",icon:"step-forward",className:"icon-formart"}),r.a.createElement(Pe.a,{title:o?"Loop":"No Loop"},r.a.createElement(O.a,{shape:"circle",size:"large",icon:c,className:"icon-formart",onClick:function(){e.onHandleClickLoop()}})),r.a.createElement(Ve.a,{size:50,style:{marginLeft:20},src:window.$linkIPFS+m,alt:"Avatar photo"}),r.a.createElement(Yn.a,{tipFormatter:this.Tooltip,min:0,max:a,onChange:this.onChangeSeek,value:"number"===typeof s.playedSeconds?s.playedSeconds:0,style:{width:"300px",marginLeft:10},step:1e-6}),r.a.createElement(Jn,{seconds:s.playedSeconds?s.playedSeconds:0}),r.a.createElement(Zn.a,null,"/"),r.a.createElement(Jn,{seconds:a}),r.a.createElement(qe.a,{overlay:r.a.createElement("div",{style:{display:"inline-block",height:100}},r.a.createElement(Yn.a,{onChange:this.onChangeVolume,vertical:!0,defaultValue:30})),placement:"topCenter"},r.a.createElement(O.a,{style:{marginLeft:10},shape:"circle",type:"default",icon:"bell"})))}}]),t}(n.Component),nr=Object(m.b)((function(e){return{appReducer:e.appReducer,userReducer:e.userReducer}}),(function(e){return{}}))(ar),rr=a(72),or=a.n(rr),ir=(a(131),h.a.Text),cr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,text:""},a.handleChange=function(e){a.setState({text:e})},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){var t={idMongo:a.props.idMongo,lyric:a.state.text};a.setState({visible:!1,text:""}),console.log(t),function(e){return new Promise((function(t,a){return C.a.post(k.a.api_url+"/actions/postLyric",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}(t).then((function(e){console.log(e)}))},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Pe.a,{title:"Edit lyric",placement:"leftTop"},r.a.createElement(O.a,{disabled:this.props.disabled,ghost:!0,type:"danger",icon:"edit",onClick:this.showModal},r.a.createElement(ir,null,"Edit lyric"))),r.a.createElement(g.a,{title:"Edit Lyric",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,okButtonProps:{type:"danger"},okText:"Submit"},r.a.createElement(or.a,{theme:"snow",value:this.state.text,onChange:this.handleChange})))}}]),t}(r.a.Component),sr=h.a.Paragraph,lr=h.a.Text,ur=h.a.Title,pr=En.a.Countdown,mr=ha.a.Meta,dr=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.idMongo;t!==this.props.idMongo&&this.props.getSongByID(t)}},{key:"componentDidMount",value:function(){var e;console.log(this.props.idMongo),this.props.getSongByID(this.props.idMongo),this.props.getRelatedUser(),e={idSongMongo:this.props.idMongo},new Promise((function(t,a){return C.a.post(k.a.api_url+"/users/postViewMusic",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}},{key:"render",value:function(){var e=this,t=this.props.songReducer,a=t.songInfo,n=t.songSameSingerData,o=t.relatedUserData;if(t.error)return r.a.createElement(jn,{history:this.props.history,subTitle:"Song not found. Please try another link!"});if(!a)return r.a.createElement(Fe,null);var i=[{title:"Address",dataIndex:"investor",key:"address",ellipsis:!0,render:function(t){return r.a.createElement(O.a,{style:{textAlign:"left",padding:0},type:"link",onClick:function(){return e.props.history.push("/page/".concat(t))}},t)}},{title:"Invest percent",dataIndex:"percentage",key:"percent",render:function(e){return r.a.createElement(lr,null,parseFloat(e/1e3).toFixed(3)," %")}},{title:"Invest Amount",dataIndex:"amount",key:"amount",render:function(e){return r.a.createElement(lr,null,me(e)," HAK")}}];return r.a.createElement(at.a,null,r.a.createElement(at.a,{gutter:[0,32]},r.a.createElement(nt.a,{span:18},r.a.createElement(at.a,null,r.a.createElement(nr,{musicHash:a.hash,imageHash:a.image,isDetail:!0})),r.a.createElement(at.a,{style:{padding:5,margin:5}},r.a.createElement(nt.a,{span:8},r.a.createElement(at.a,null,r.a.createElement(mr,{style:{paddingBottom:10},avatar:r.a.createElement(Ve.a,{size:59,src:window.$linkIPFS+a.userUpload.avatar}),title:r.a.createElement(O.a,{style:{textAlign:"left",padding:0,fontSize:16},type:"link",onClick:function(){return e.props.history.push("/page/".concat(a.userUpload.addressEthereum))}},r.a.createElement(lr,{style:{fontSize:18},type:"warning"},a.userUpload.nickName)),description:r.a.createElement(lr,null," ",me(a.follow)," Follow ")})),r.a.createElement(at.a,{style:{padding:5,margin:5}},r.a.createElement(Ve.a,{shape:"square",size:220,src:"https://ipfs.fotra.tk/ipfs/"+a.image,alt:"Music photo"}),r.a.createElement(Pe.a,{title:a.name,placement:"leftTop"},r.a.createElement(sr,{strong:!0,style:{fontSize:"20px",margin:"15px"},ellipsis:{rows:2}},a.name))),r.a.createElement(at.a,{style:{padding:5,margin:5}},r.a.createElement(dn,{title:"Singer",content:a.artist,link:"link here"}),r.a.createElement(dn,{title:"Author",content:"Nguy\u1ec5n Ho\xe0ng H\u1ea3i",link:"link here"}),r.a.createElement(dn,{title:"Release",content:ie(1e3*a.blockTime).format("L")}),r.a.createElement(dn,{title:"View",content:a.view}),r.a.createElement(dn,{title:"Download Total",content:a.totalDownloader}),r.a.createElement(dn,{title:"Download Week",content:a.weekDownloader}),r.a.createElement(dn,{title:"Contract Permission",content:a.contractPermission?"Allow":"Not Allow"}),r.a.createElement(dn,{title:"ISO",content:a.IsISO?ie().unix()>=a.timeExpired?"Used":"Now Using":"Not Use",link:"link here"}))),r.a.createElement(nt.a,{span:16},r.a.createElement(at.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-around",marginBottom:10,paddingBottom:10}},r.a.createElement(Ln,{ownerSongID:a.userUpload._id,isFollowed:a.isFollowed}),r.a.createElement(Ja,{disabled:this.props.userReducer.user.id!==a.userUpload._id,idFile:a.idFile}),r.a.createElement(cr,{disabled:this.props.userReducer.user.id!==a.userUpload._id,idMongo:this.props.idMongo}),r.a.createElement(un,{disabled:ie().unix()>=a.timeExpired,idFile:a.idFile}),r.a.createElement(Za,{idFile:a.idFile})),r.a.createElement(at.a,{style:{padding:5,marginTop:20}},r.a.createElement(ur,{level:4,type:"secondary"}," LYRIC  "),r.a.createElement("div",{style:{width:"100%",maxHeight:250,backgroundColor:"rgb(239, 242, 245)",overflow:"auto"}},r.a.createElement("div",{style:{padding:5,margin:5},dangerouslySetInnerHTML:{__html:a.lyric}}))),r.a.createElement(at.a,{style:{padding:3,marginTop:20}},r.a.createElement(ur,{level:4,type:"secondary"}," INITIAL SONG OFFERING (ISO) INFOMATION "),a.IsISO?r.a.createElement("div",null,r.a.createElement(pr,{valueStyle:{fontSize:"17px",textAlign:"center",margin:"5px"},value:1e3*a.timeExpired,format:"D Ng\xe0y H Gi\u1edd m Ph\xfat s"}),r.a.createElement(yn.a,{style:{paddingRight:"10px",margin:"5px"},strokeColor:{from:"#108ee9",to:"#FF5733"},percent:Number(parseFloat(100-100*a.amountRemaining/a.offerAmount).toFixed(1)),status:"active",showInfo:!0}),r.a.createElement(dn,{title:"Progress",content:me(a.offerAmount-a.amountRemaining)+" / "+me(a.offerAmount)+" HAK"}),r.a.createElement(dn,{title:"Total Offer Amount",content:me(a.offerAmount)+" HAK"}),r.a.createElement(dn,{title:"Total Offer Percent",content:parseFloat(a.offerPercent/1e3).toFixed(3)+"%"}),r.a.createElement(dn,{title:"Amount Remaining",content:me(a.amountRemaining)+" HAK"}),r.a.createElement(dn,{title:"Owner Percent Remaining",content:parseFloat(a.ownerPercent/1e3).toFixed(3)+"%"}),r.a.createElement(dn,{title:"Invest table",content:""}),r.a.createElement(xa.a,{rowKey:function(e){return e.idFile},columns:i,dataSource:a.investListISO,pagination:!1})):r.a.createElement(lr,null," This song is not using ISO yet. ")),r.a.createElement(at.a,{style:{padding:5,marginTop:20}},r.a.createElement(at.a,null,r.a.createElement(O.a,{style:{textAlign:"left",padding:0,fontSize:"20px"},type:"link",onClick:function(){}},r.a.createElement(ur,{level:4,type:"secondary"},"SONG WITH THE SAME SINGER >>>"))),r.a.createElement(at.a,{gutter:[8,0],type:"flex",justify:"space-around"},n?0===n.length?r.a.createElement(lr,null," This user just have this song! "):n.map((function(e){return r.a.createElement(nt.a,{key:e._id,span:8,style:{width:170,marginTop:20}},r.a.createElement(wa,{songInfo:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(nt.a,{span:8,style:{marginTop:20}},r.a.createElement(ka,null)),r.a.createElement(nt.a,{span:8,style:{marginTop:20}},r.a.createElement(ka,null)),r.a.createElement(nt.a,{span:8,style:{marginTop:20}},r.a.createElement(ka,null))))),r.a.createElement(at.a,{style:{padding:5,marginTop:20}},r.a.createElement(at.a,null,r.a.createElement(O.a,{style:{textAlign:"left",padding:0,fontSize:"20px"},type:"link",onClick:function(){}},r.a.createElement(ur,{level:4,type:"secondary"},"RELATED ARTIST >>>"))),r.a.createElement(at.a,{gutter:[8,0],type:"flex",justify:"space-around"},o?o.map((function(e){return r.a.createElement(nt.a,{span:6,style:{width:170,marginTop:20}},r.a.createElement(ba,{songPage:!0,user:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(nt.a,{span:8,style:{marginTop:20}},r.a.createElement(va,null)),r.a.createElement(nt.a,{span:8,style:{marginTop:20}},r.a.createElement(va,null)),r.a.createElement(nt.a,{span:8,style:{marginTop:20}},r.a.createElement(va,null)))))))),r.a.createElement(nt.a,{span:6},r.a.createElement("div",{style:{backgroundColor:"#e0e0e0",height:1e3}},"Advertising"))))}}]),t}(r.a.Component),fr=Object(f.g)(Object(m.b)((function(e){return{songReducer:e.songReducer,userReducer:e.userReducer}}),(function(e){return{getSongByID:function(t){return e(Fn(t))},getSongSameSinger:function(t){return e(xn(t))},getRelatedUser:function(){return e(Pn())}}}))(dr)),hr=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ct,{main:r.a.createElement(fr,{idMongo:this.props.match.params.idMongo}),history:this.props.history})}}]),t}(n.Component),gr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dataISO:[],loading:!0},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e,t){return C.a.get(k.a.api_url+"/ethereums/getISOList",{headers:se()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);console.log(a.data.result),e(a.data.result)})).catch((function(e){console.log("loine: "+e),t(e)}))})).then((function(t){e.setState({dataISO:t,loading:!1})}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%"}},this.state.loading?r.a.createElement(Fe,null):r.a.createElement(at.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},this.state.dataISO.map((function(e){return r.a.createElement(nt.a,{key:e.idFile,span:6},r.a.createElement(Cn,{record:e,action:!0}))}))))}}]),t}(r.a.Component),Er=Object(m.b)((function(e){return{}}),(function(e){return{}}))(gr),yr=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ct,{main:r.a.createElement(Er,null),history:this.props.history})}}]),t}(n.Component);a(686),a(687);function br(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||Fa.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||Fa.a.error("Image must smaller than 2MB!"),t&&a}var vr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&(!function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}(e.file.originFileObj,(function(e){a.setState({imageUrl:e,loading:!1})})),a.props.file(e.file.response.result,a.state.loading)):a.setState({loading:!0})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=r.a.createElement("div",null,r.a.createElement(b.a,{type:this.state.loading?"loading":"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload")),t=this.state.imageUrl;return r.a.createElement(Dn.a,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:k.a.api_url+"/users/upload",beforeUpload:br,onChange:this.handleChange},t?r.a.createElement("img",{src:t,alt:"avatar",style:{width:"100%"}}):e)}}]),t}(r.a.Component),Or=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.goTo,n=t.func,o=t.title,i=t.subTitle;return r.a.createElement(Re.a,{status:"success",title:o,subTitle:i,extra:r.a.createElement(O.a,{type:"primary",onClick:function(){e.props.history.push("/".concat(a)),n&&n()}},"Go to ",a)})}}]),t}(r.a.Component),Sr=Object(f.g)(Or),Cr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={hashAvatar:"",hashCoverPhoto:""},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||(console.log("Received values of form: ",t),a.setState({hashAvatar:"",hashCoverPhoto:""}),a.props.updateUser(t),a.props.form.resetFields())}))},a.normFile=function(e){a.setState({hashAvatar:e})},a.normFile2=function(e){a.setState({hashCoverPhoto:e})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return this.props.userReducer.isUpdate?r.a.createElement(Fe,null):this.props.userReducer.updateSuccessful?r.a.createElement(Sr,{title:"SUCCESSFUL",subTitle:"Update user information successful",goTo:"home",func:this.props.reset_update}):this.props.userReducer.errorUpdate?r.a.createElement(Ne,{func:this.props.handle_update_error,title:"ERROR at update user information!",subTitle:this.props.userReducer.errorUpdate,goTo:"setting"}):r.a.createElement(E.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{onSubmit:this.handleSubmit}),r.a.createElement(E.a.Item,{label:r.a.createElement("span",null,"Nickname\xa0",r.a.createElement(Pe.a,{title:"What do you want others to call you?"},r.a.createElement(b.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"question-circle-o"})))},t("nickName")(r.a.createElement(y.a,null))),r.a.createElement(E.a.Item,{label:r.a.createElement("span",null,"UserName\xa0",r.a.createElement(Pe.a,{title:"What do you want others to call you?"},r.a.createElement(b.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"question-circle-o"})))},t("userName",{rules:[{message:"Your input is not valid.",pattern:/^\S{8,16}$/}]})(r.a.createElement(y.a,null))),r.a.createElement(E.a.Item,{label:r.a.createElement("span",null,"Youtube\xa0",r.a.createElement(Pe.a,{title:"Write your link youtube chanel."},r.a.createElement(b.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"youtube"})))},t("youtube")(r.a.createElement(y.a,null))),r.a.createElement(E.a.Item,{label:r.a.createElement("span",null,"Facebook\xa0",r.a.createElement(Pe.a,{title:"Write your link facebook."},r.a.createElement(b.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"facebook"})))},t("facebook")(r.a.createElement(y.a,null))),r.a.createElement(E.a.Item,{label:r.a.createElement("span",null,"Home Address\xa0",r.a.createElement(Pe.a,{title:"Write your home address."},r.a.createElement(b.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"home"})))},t("home")(r.a.createElement(y.a,null))),r.a.createElement(E.a.Item,{label:r.a.createElement("span",null,"Avatar\xa0",r.a.createElement(Pe.a,{title:"Upload your avatar."},r.a.createElement(b.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"smile"})))},t("avatar",{initialValue:this.state.hashAvatar})(r.a.createElement(vr,{file:function(t){return e.normFile(t)}}))),r.a.createElement(E.a.Item,{label:r.a.createElement("span",null,"CoverPhoto\xa0",r.a.createElement(Pe.a,{title:"Upload your cover photo."},r.a.createElement(b.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"picture"})))},t("coverPhoto",{initialValue:this.state.hashCoverPhoto})(r.a.createElement(vr,{file:function(t){return e.normFile2(t)}}))),r.a.createElement(E.a.Item,{wrapperCol:{span:12,offset:6}},r.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Submit")))}}]),t}(r.a.Component),wr=E.a.create({name:"validate_other"})(Cr),kr=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{updateUser:function(t){return e(Se(t))},handle_update_error:function(){return e({type:"HANDLE_UPDATE_ERROR"})},reset_update:function(){return e({type:"RESET_UPDATE"})}}}))(wr),jr=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ct,{main:r.a.createElement(kr,null),history:this.props.history})}}]),t}(n.Component),_r=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.appReducer.musicSelected,t=e.hash,a=e.image,n=e.idSolidity;return r.a.createElement("div",{style:{visibility:this.props.isMusicDetail?"":0===Object.entries(this.props.appReducer.musicSelected).length?"hidden":""}},r.a.createElement(ha.a,{hoverable:!0,bordered:!1,bodyStyle:{backgroundColor:"#D6DBDF",position:"fixed",bottom:0,width:"100vw",padding:10}},r.a.createElement(nr,{musicHash:t,imageHash:a,idFile:n})))}}]),t}(n.Component),Dr=Object(m.b)((function(e){return{appReducer:e.appReducer}}),(function(e){return{}}))(_r),Ir=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{}}))((function(e){var t=e.component,a=e.userReducer,n=Object(jt.a)(e,["component","userReducer"]);return r.a.createElement(f.b,Object.assign({},n,{render:function(e){return a.signinSuccessful?r.a.createElement(t,e):r.a.createElement(f.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})),Tr=(a(688),h.a.Text),Ar=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={text:""},a.componentDidMount=function(){a.setState({text:a.props.content})},a.handleChange=function(e){a.setState({text:e})},a.handleOk=function(){if(a.props.mainContract){var e={songID:a.props.songID,content:a.state.text,nameContractForm:a.props.nameContractForm};console.log(e),Ee(e).then((function(e){return console.log(e),a.props.history.push("/mainContract/"+e.idContract),g.a.success({content:"Create a contract to this song success!"})})).catch((function(e){return a.setState({text:a.props.content}),g.a.error({title:"Create a contract to this song failed!",content:e})}))}else{var t={tempContractID:a.props.idTempContract,content:a.state.text};console.log(t),ge(t).then((function(e){return console.log(e),g.a.success({content:"Update Success!"})})).catch((function(e){return a.setState({text:a.props.content}),g.a.error({title:"Update Failed!",content:e})}))}},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ha.a,{bordered:!1,title:r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginRight:20}},r.a.createElement(Tr,{code:!0}," Last updated: ",ie(this.props.date).format("LLLL")),this.props.mainContract?r.a.createElement(O.a,{onClick:this.handleOk,type:"primary"},"Go to main contract"):null),extra:r.a.createElement(O.a,{onClick:this.handleOk,type:"danger"},this.props.mainContract?"Use this form":"Update"),style:{width:"100%"}},r.a.createElement(or.a,{theme:"snow",value:this.state.text,onChange:this.handleChange,modules:t.modules,formats:t.formats,placeholder:"Write something...",style:{width:"100%",height:"1000px"}}))}}]),t}(r.a.Component);Ar.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1}},Ar.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var Rr=Object(f.g)(Ar),Pr=Aa.a.TabPane,xr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={text:"",showCreateForm:!1,tempContractData:[],nameContractForm:""},a.handleChange=function(e){a.setState({text:e})},a.handleChangeName=function(e){var t=e.target.value;a.setState({nameContractForm:t})},a.handleClickBtnCreate=function(e){a.setState({showCreateForm:e})},a.handleOk=function(){if(!a.state.text||!a.state.nameContractForm)return g.a.error({title:"Please fill all field!"});var e={content:a.state.text,nameContractForm:a.state.nameContractForm};console.log(e),ge(e).then((function(e){return console.log(e),a.setState({text:"",showCreateForm:!1,tempContractData:[],nameContractForm:""}),ye().then((function(e){a.setState({tempContractData:e}),console.log(e)})),g.a.success({title:"Update Success!"})}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;ye().then((function(t){e.setState({tempContractData:t}),console.log(t)}))}},{key:"render",value:function(){var e=this,a=r.a.createElement(O.a,{type:"primary",onClick:function(){return e.handleClickBtnCreate(!0)}},"Create Form");return r.a.createElement("div",null,r.a.createElement(Aa.a,{tabBarExtraContent:a},this.state.tempContractData.map((function(e,t){return r.a.createElement(Pr,{tab:e.nameContractForm,key:t},r.a.createElement(Rr,{content:e.content,idMongo:e._id,date:e.date_updated}))}))),r.a.createElement(g.a,{title:r.a.createElement(y.a,{value:this.state.nameContractForm,style:{width:"400px"},placeholder:"Input name of this contract form",onChange:this.handleChangeName}),style:{top:20},visible:this.state.showCreateForm,onOk:this.handleOk,onCancel:function(){return e.handleClickBtnCreate(!1)}},r.a.createElement(or.a,{theme:"snow",value:this.state.text,onChange:this.handleChange,modules:t.modules,formats:t.formats,placeholder:"Write something...",style:{width:"100%",height:"500px",marginBottom:"50px"}})))}}]),t}(r.a.Component);xr.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1}},xr.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var Fr=Object(f.g)(Object(m.b)((function(e){return{}}),(function(e){return{}}))(xr)),Ur=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ct,{main:r.a.createElement(Fr,null),history:this.props.history})}}]),t}(n.Component),Nr=Aa.a.TabPane,Lr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={text:"",showCreateForm:!1,tempContractData:[],nameContractForm:""},a.handleChange=function(e){a.setState({text:e})},a.handleChangeName=function(e){var t=e.target.value;a.setState({nameContractForm:t})},a.handleClickBtnCreate=function(e){a.setState({showCreateForm:e})},a.handleOk=function(){if(!a.state.text||!a.state.nameContractForm)return g.a.error({title:"Please fill all field!"});var e={content:a.state.text,nameContractForm:a.state.nameContractForm,songID:a.props.idTempContract};console.log(e),Ee(e).then((function(e){return console.log(e),a.setState({text:"",showCreateForm:!1}),a.props.history.push("/mainContract/"+e.idContract),g.a.success({title:"Create new contract to this song success!"})})).catch((function(e){return g.a.error({title:"Error: ".concat(e)})}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;ye(this.props.idTempContract).then((function(t){e.setState({tempContractData:t}),console.log(t)}))}},{key:"render",value:function(){var e=this,a=r.a.createElement(O.a,{type:"primary",onClick:function(){return e.handleClickBtnCreate(!0)}},"Create Form");return r.a.createElement("div",null,r.a.createElement(Aa.a,{tabBarExtraContent:a},this.state.tempContractData.map((function(t,a){return r.a.createElement(Nr,{tab:t.nameContractForm,key:a},r.a.createElement(Rr,{mainContract:!0,nameContractForm:t.nameContractForm,songID:e.props.idTempContract,content:t.content,idTempContract:t._id,date:t.date_updated}))}))),r.a.createElement(g.a,{title:r.a.createElement(y.a,{style:{width:"400px"},placeholder:"Input name of this contract form",onChange:this.handleChangeName}),style:{top:20},visible:this.state.showCreateForm,onOk:this.handleOk,onCancel:function(){return e.handleClickBtnCreate(!1)}},r.a.createElement(or.a,{theme:"snow",value:this.state.text,onChange:this.handleChange,modules:t.modules,formats:t.formats,placeholder:"Write something...",style:{width:"100%",height:"500px",marginBottom:"50px"}})))}}]),t}(r.a.Component);Lr.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1}},Lr.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var Mr=Object(f.g)(Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{}}))(Lr)),Gr=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ct,{main:r.a.createElement(Mr,{idTempContract:this.props.match.params.idTempContract}),history:this.props.history})}}]),t}(n.Component),Hr=(ha.a.Meta,Aa.a.TabPane,h.a.Text),Br=h.a.Title,zr=E.a.create({name:"form_in_modal"})(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={contractMoney:0,OwnerCA:0,SignerCA:0,costUSD:23e3,estimatedTime:""},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({contractMoney:this.props.contractMoney/this.state.costUSD,OwnerCA:this.props.ownerCompensationAmount/this.state.costUSD,SignerCA:this.props.signerCompensationAmount/this.state.costUSD,estimatedTime:de(this.props.timeAmount)})}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.nameContractForm,n=t.contractMoney,o=t.ownerCompensationAmount,i=t.signerCompensationAmount,c=t.isPublic,s=t.timeAmount,l=t.form.getFieldDecorator;return r.a.createElement(E.a,{layout:"vertical"},r.a.createElement(E.a.Item,{label:"Contract name"},l("nameContractForm",{rules:[{required:!0,message:"Please input the name of this contract!"}],initialValue:a})(r.a.createElement(y.a,{placeholder:"Please input contract's name"}))),r.a.createElement(E.a.Item,{label:"Contract Money"},l("contractMoney",{rules:[{required:!0,message:"Please input contract money of this song!"}],initialValue:n,onChange:function(t){e.setState({contractMoney:t/e.state.costUSD})}})(r.a.createElement(Ye.a,{style:{width:200},min:0,formatter:function(e){return me(e)},maxLength:25})),r.a.createElement("span",{className:"ant-form-text"}," HAK"),r.a.createElement("span",{className:"ant-form-text"},"\u279c   ",this.state.contractMoney," USD")),r.a.createElement(E.a.Item,{label:"Owner Compensation Amount"},l("ownerCompensationAmount",{rules:[{required:!0,message:"Please input Owner Compensation Amount!"}],initialValue:o,onChange:function(t){e.setState({OwnerCA:t/e.state.costUSD})}})(r.a.createElement(Ye.a,{style:{width:200},min:0,formatter:function(e){return me(e)},maxLength:25})),r.a.createElement("span",{className:"ant-form-text"}," HAK"),r.a.createElement("span",{className:"ant-form-text"},"\u279c   ",this.state.OwnerCA," USD")),r.a.createElement(E.a.Item,{label:"Signer Compensation Amount"},l("signerCompensationAmount",{rules:[{required:!0,message:"Please input Signer Compensation Amount!"}],initialValue:i,onChange:function(t){e.setState({SignerCA:t/e.state.costUSD})}})(r.a.createElement(Ye.a,{style:{width:200},min:0,formatter:function(e){return me(e)},maxLength:25})),r.a.createElement("span",{className:"ant-form-text"}," HAK"),r.a.createElement("span",{className:"ant-form-text"},"\u279c   ",this.state.SignerCA," USD")),r.a.createElement(E.a.Item,{label:"Time Amount"},l("timeAmount",{rules:[{required:!0,message:"Please input Time Amount!"}],initialValue:s,onChange:function(t){e.setState({estimatedTime:de(t)})}})(r.a.createElement(Ye.a,{style:{width:200},min:0,maxLength:15})),r.a.createElement("span",{className:"ant-form-text"},"\u279c   ",this.state.estimatedTime)),r.a.createElement(E.a.Item,{label:"Public Permission"},l("isPublic",{rules:[{required:!0,message:"Please choose this field!"}],initialValue:c,valuePropName:"checked"})(r.a.createElement(_n.a,null))))}}]),t}(r.a.Component)),Kr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={text:"",contract:null},a.handleChangeContent=function(e){a.setState({text:e})},a.hanldeExecuteContract=function(){var e;le("Executing to Ethereum ..."),(e={idContractMongo:a.props.idContract},new Promise((function(t,a){return C.a.post(k.a.api_url+"/ethereums/executeContract",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))).then((function(e){return pe(e),a.setState({contract:null,text:""}),be(a.props.idContract).then((function(e){console.log(e),a.setState({contract:e,text:e.content})})),g.a.success({title:"Update contract success!"})})).catch((function(e){return ue("Can not execute transaction, Please try again!"),g.a.error({title:"Error: ".concat(e)})}))},a.hanldeCancelContract=function(){var e;le("Executing to Ethereum ..."),(e={idContractMongo:a.props.idContract},new Promise((function(t,a){return C.a.post(k.a.api_url+"/ethereums/cancelContract",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))).then((function(e){return pe(e),a.setState({contract:null,text:""}),be(a.props.idContract).then((function(e){console.log(e),a.setState({contract:e,text:e.content})})),g.a.success({title:"Update contract success!"})})).catch((function(e){return ue("Can not execute transaction, Please try again!"),g.a.error({title:"Error: ".concat(e)})}))},a.hanldeApproveContract=function(){var e;le("Executing to Ethereum ..."),(e={idContractMongo:a.props.idContract},new Promise((function(t,a){return C.a.post(k.a.api_url+"/ethereums/setApprove",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))).then((function(e){return pe(e),a.setState({contract:null,text:""}),be(a.props.idContract).then((function(e){console.log(e),a.setState({contract:e,text:e.content})})).catch((function(e){console.log(e)})),g.a.success({title:"Confirm contract success!"})})).catch((function(e){return ue("Can not execute transaction, Please try again!  ".concat(e)),g.a.error({title:"Error: ".concat(e)})}))},a.hanldeUpdateContract=function(){a.formRef.props.form.validateFields((function(e,t){if(e)return Fa.a.error("please fill out all fields");Object.assign(t,{idContract:a.props.idContract,content:a.state.text}),Ee(t).then((function(e){return a.setState({contract:null,text:""}),be(a.props.idContract).then((function(e){console.log(e),a.setState({contract:e,text:e.content})})),g.a.success({title:"Update contract success!"})})).catch((function(e){return g.a.error({title:"Error: ".concat(e)})}))}))},a.onApproved=function(e){(function(e){return new Promise((function(t,a){return C.a.post(k.a.api_url+"/actions/setApprovedContract",e,{headers:se()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))})({approved:e,idContract:a.props.idContract}).catch((function(e){return g.a.error({title:"Error: ".concat(e)})}))},a.saveFormRef=function(e){a.formRef=e},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.idContract;t!==this.props.idContract&&be(t)}},{key:"componentDidMount",value:function(){var e=this;console.log(this.props.idContract),be(this.props.idContract).then((function(t){console.log(t),e.setState({contract:t,text:t.content})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;if(!this.state.contract)return r.a.createElement(Fe,null);var a=this.state.contract,n=a.songID,o=a.timeAmount,i=a.isExecuteContract,c=a.ownerID,s=a.ownerFollow,l=a.ownerApproved,u=a.signerID,p=a.signerApproved,m=a.signerFollow,d=a.nameContractForm,f=a.contractMoney,h=a.ownerCompensationAmount,g=a.signerCompensationAmount,E=a.isPublic,y=a.whoExecuted,v=a.isConfirmContract,S=a.isCancel;return r.a.createElement("div",{style:{}},r.a.createElement(at.a,{style:{display:"flex",justifyContent:"center",padding:5,margin:5}},r.a.createElement(Br,{level:4},n.name," ",S?"(Canceled)":null)),r.a.createElement(at.a,{gutter:[32,32]},r.a.createElement(nt.a,{span:6},r.a.createElement(ha.a,{style:{backgroundColor:"#FBFBFB"},hoverable:!0,bordered:!1},r.a.createElement("div",{className:"logo-name"},r.a.createElement("div",{style:{padding:"15px"}},r.a.createElement(Ve.a,{size:180,src:window.$linkIPFS+c.avatar,alt:"Avatar photo"})),r.a.createElement("div",null,r.a.createElement(Br,{ellipsis:!0,level:4},c.nickName),r.a.createElement(Hr,{type:"secondary"},s," Follow"),r.a.createElement("br",null),r.a.createElement(Hr,{type:"danger"},"Owner"),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(Hr,{type:"secondary"},"Approved : "),this.props.userReducer.user.id===c._id?r.a.createElement(_n.a,{onChange:function(t){return e.onApproved(t)},disabled:!1,defaultChecked:l,checkedChildren:r.a.createElement(b.a,{type:"check"}),unCheckedChildren:r.a.createElement(b.a,{type:"close"})}):r.a.createElement(_n.a,{disabled:!0,checked:l,checkedChildren:r.a.createElement(b.a,{type:"check"}),unCheckedChildren:r.a.createElement(b.a,{type:"close"})})))),r.a.createElement(Gn,{icon:"phone",link:"linkPhone",content:c.phone}),r.a.createElement(Gn,{icon:"youtube",link:"linkYoutube",content:c.youtube}),r.a.createElement(Gn,{icon:"facebook",link:"linkFacebook",content:c.facebook}),r.a.createElement(Gn,{icon:"home",link:"linkHome",content:c.home}))),r.a.createElement(nt.a,{style:{backgroundColor:"#FBFBFB"},span:12},r.a.createElement(zr,{wrappedComponentRef:this.saveFormRef,onCancel:this.handleCancel,onCreate:this.handleCreate,onRef:function(t){return e.child=t},nameContractForm:d,contractMoney:f,ownerCompensationAmount:h,signerCompensationAmount:g,isPublic:E,timeAmount:o}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement(O.a,{disabled:!(p&&l&&!i),type:"danger",onClick:function(){return e.hanldeExecuteContract()}}," Execute Transaction"),v?r.a.createElement(O.a,{disabled:!!S,type:"danger",onClick:function(){return e.hanldeCancelContract()}}," Cancel Contract"):r.a.createElement(O.a,{disabled:!!i,type:"primary",onClick:function(){return e.hanldeUpdateContract()}}," Update Contract"),r.a.createElement(O.a,{disabled:!!v||!i||e.props.userReducer.user.id===y,type:"danger",onClick:function(){return e.hanldeApproveContract()}}," Confirm Transaction"))),r.a.createElement(nt.a,{span:6},r.a.createElement(ha.a,{style:{backgroundColor:"#FBFBFB"},hoverable:!0,bordered:!1},r.a.createElement("div",{className:"logo-name"},r.a.createElement("div",{style:{padding:"15px"}},r.a.createElement(Ve.a,{size:180,src:window.$linkIPFS+u.avatar,alt:"Avatar photo"})),r.a.createElement("div",null,r.a.createElement(Br,{ellipsis:!0,level:4},u.nickName),r.a.createElement(Hr,{type:"secondary"},m," Follow"),r.a.createElement("br",null),r.a.createElement(Hr,{type:"warning"},"Signer"),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(Hr,{type:"secondary"},"Approved : "),this.props.userReducer.user.id===u._id?r.a.createElement(_n.a,{onChange:function(t){return e.onApproved(t)},disabled:!1,defaultChecked:p,checkedChildren:r.a.createElement(b.a,{type:"check"}),unCheckedChildren:r.a.createElement(b.a,{type:"close"})}):r.a.createElement(_n.a,{disabled:!0,checked:p,checkedChildren:r.a.createElement(b.a,{type:"check"}),unCheckedChildren:r.a.createElement(b.a,{type:"close"})})))),r.a.createElement(Gn,{icon:"phone",link:"linkPhone",content:u.phone}),r.a.createElement(Gn,{icon:"youtube",link:"linkYoutube",content:u.youtube}),r.a.createElement(Gn,{icon:"facebook",link:"linkFacebook",content:u.facebook}),r.a.createElement(Gn,{icon:"home",link:"linkHome",content:u.home})))),r.a.createElement(at.a,null,r.a.createElement(or.a,{theme:"snow",value:this.state.text,onChange:this.handleChangeContent,modules:t.modules,formats:t.formats,placeholder:"Write something...",style:{width:"100%",height:"1000px",marginBottom:"50px",marginTop:"50px"}})))}}]),t}(r.a.Component);Kr.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1}},Kr.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var $r=Object(f.g)(Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{}}))(Kr)),Vr=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ct,{main:r.a.createElement($r,{idContract:this.props.match.params.idContract}),history:this.props.history})}}]),t}(n.Component),qr=(a(689),ha.a.Meta),Wr=(En.a.Countdown,h.a.Text),Yr=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.record,n=t.isOwner;return r.a.createElement(ha.a,{style:{display:"flex",alignItems:"center",flexDirection:"column"},hoverable:!0,cover:r.a.createElement("img",{className:"img-background-music",alt:"music background",src:window.$linkIPFS+a.songID.image,onClick:function(){return e.props.history.push("/mainContract/".concat(a._id))}}),bodyStyle:{padding:"15px",width:"100%",border:"0px solid green"}},r.a.createElement(O.a,{style:{textAlign:"center",padding:0,fontSize:14,height:20},type:"link",onClick:function(){return e.props.history.push("/song/".concat(a.songID._id))}},a.songID.name),n?r.a.createElement(qr,{style:{paddingBottom:10},avatar:r.a.createElement(Ve.a,{size:59,src:window.$linkIPFS+a.ownerID.avatar,alt:a.ownerID.nickName}),title:r.a.createElement(O.a,{style:{textAlign:"left",padding:0,fontSize:16},type:"link",onClick:function(){return e.props.history.push("/page/".concat(a.ownerID.addressEthereum))}},r.a.createElement(Wr,{style:{fontSize:16},type:"warning"},a.ownerID.nickName))}):r.a.createElement(qr,{style:{paddingBottom:10},avatar:r.a.createElement(Ve.a,{size:59,src:window.$linkIPFS+a.signerID.avatar,alt:a.signerID.nickName}),title:r.a.createElement(O.a,{style:{textAlign:"left",padding:0,fontSize:16},type:"link",onClick:function(){return e.props.history.push("/page/".concat(a.signerID.addressEthereum))}},r.a.createElement(Wr,{style:{fontSize:16},type:"warning"},a.signerID.nickName))}))}}]),t}(r.a.Component),Jr=(Object(f.g)(Yr),h.a.Text,h.a.Title),Qr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dataContract:null,loading:!0},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e,t){return C.a.get(k.a.api_url+"/actions/getUserContract",{headers:se()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){console.log(t),e.setState({dataContract:t,loading:!1})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%"}},this.state.dataContract?r.a.createElement(at.a,{gutter:[32,32]},r.a.createElement(nt.a,{span:18},r.a.createElement(at.a,{style:{padding:10,margin:10,textAlign:"center"}},r.a.createElement(Jr,{level:4,type:"secondary"}," You Are Owner ")),r.a.createElement(at.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},this.state.dataContract.ownerData.map((function(e){return r.a.createElement(nt.a,{key:e._id,span:6},r.a.createElement(wa,{songInfo:e.songID,contract:e._id}))}))),r.a.createElement(at.a,{style:{padding:10,margin:10,textAlign:"center"}},r.a.createElement(Jr,{level:4,type:"secondary"}," You Are Signer ")),r.a.createElement(at.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},this.state.dataContract.signerData.map((function(e){return r.a.createElement(nt.a,{key:e._id,span:6},r.a.createElement(wa,{songInfo:e.songID}))})))),r.a.createElement(nt.a,{span:6},r.a.createElement("div",{style:{backgroundColor:"#e0e0e0",height:1e3}},"Advertising"))):r.a.createElement(Fe,null))}}]),t}(r.a.Component),Xr=Object(m.b)((function(e){return{}}),(function(e){return{}}))(Qr),Zr=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ct,{main:r.a.createElement(Xr,null),history:this.props.history})}}]),t}(n.Component),eo=function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/",component:Ta}),r.a.createElement(f.b,{path:"/login",component:Te}),r.a.createElement(f.b,{path:"/register",component:He}),r.a.createElement(Ir,{path:"/home",component:Ia}),r.a.createElement(Ir,{path:"/message",component:aa}),r.a.createElement(Ir,{path:"/iso",component:yr}),r.a.createElement(Ir,{path:"/setting",component:jr}),r.a.createElement(Ir,{path:"/contractFormManager",component:Ur}),r.a.createElement(Ir,{path:"/contract",component:Zr}),r.a.createElement(Ir,{path:"/tempContract/:idTempContract",component:Gr}),r.a.createElement(Ir,{path:"/mainContract/:idContract",component:Vr}),r.a.createElement(Ir,{path:"/page/:userName",component:Vn}),r.a.createElement(Ir,{path:"/song/:idMongo",component:hr}),r.a.createElement(Ir,{component:jn})),r.a.createElement(Dr,null)))},to=a(361),ao=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{store:re},r.a.createElement(to.PersistGate,{loading:null,persistor:oe},r.a.createElement(eo,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ao,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[376,1,2]]]);
//# sourceMappingURL=main.40f3ef04.chunk.js.map