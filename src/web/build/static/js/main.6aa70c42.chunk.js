(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{129:function(e,t,a){e.exports=a.p+"static/media/logo.3188ed62.png"},23:function(e,t,a){var n={api_url:"https://fotra.ml/api",url:"https://fotra.ml/chat",provider:a(131).getDefaultProvider("kovan"),tokenAddress:"0x84C470e05128A2d1FfFF6132801182Aa4CeD9F89",tokenABI:[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"UserBehaviorContract",type:"address"}],name:"setOnlyUserBehaviorContract",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"TransferFromTo",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]};window.$linkIPFS="https://ipfs.fotra.tk/ipfs/",e.exports=n},247:function(e,t,a){},320:function(e,t,a){},375:function(e,t,a){e.exports=a(688)},550:function(e,t){},556:function(e,t,a){},557:function(e,t,a){},615:function(e,t,a){},616:function(e,t,a){},641:function(e,t,a){},650:function(e,t,a){},651:function(e,t,a){},686:function(e,t,a){},687:function(e,t,a){},688:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),i=a.n(o),c=a(7),s=a(8),l=a(10),u=a(9),p=a(11),m=a(21),d=a(232),f=a(32),h=(a(33),a(247),a(741)),g=a(738),E=a(362),y=a(13),b=a(115),v=a(59),O=a(31),S=a.n(O),j=a(23),w=a.n(j),_=a(716),I=a(164),k=a(58),T=a(240),D=a(333),R=a.n(D),A=a(334),C=a(335),P=a(336),U=a.n(P),F=a(37);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(F.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L={user:{},balanceETH:0,isSignin:!1,signinSuccessful:!1,isSignup:!1,signupSuccessful:!1,isUpdate:!1,updateSuccessful:!1,errorUpdate:null,error:null},M=a(363);function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(F.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B={receiverID:"",listFriend:[],listMessage:[],callingAPI:!1,titleName:"",isFindUser:!1,findUserSuccessful:!1,dataFindUser:[],error:null};function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(F.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V={musicSelected:{},rankingdata:null,isLoadingRankingData:!1,homeData:null,isGetHomeData:!1,getHomeDataSuccessful:!1,errorGetHomeData:null,hotUserData:null,error:null};function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach((function(t){Object(F.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $={uploadData:[],loadingUpload:!1,downloadData:[],loadingDownload:!1,isoData:[],loadingIsoData:!1,userInfoData:null,loadingUserData:!1,errorPage:null,errorUpload:null};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(F.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y={songInfo:null,songSameSingerData:null,relatedUserData:null,isLoading:!1,error:null},Z=Object(k.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_START":return x({},e,{isUpdate:!0});case"UPDATE_SUCCESSFUL":return x({},e,{isUpdate:!1,updateSuccessful:!0,user:x({},e.user,{userName:t.userName})});case"UPDATE_FAIL":return x({},e,{isUpdate:!1,errorUpdate:t.err});case"HANDLE_UPDATE_ERROR":return x({},e,{errorUpdate:null});case"RESET_UPDATE":return x({},e,{isUpdate:!1,updateSuccessful:!1,errorUpdate:null});case"SET_HAK_ADD":return x({},e,{user:x({},e.user,{HAK:Number(e.user.HAK)+t.hak})});case"SET_HAK_SUB":return x({},e,{user:x({},e.user,{HAK:e.user.HAK-t.hak})});case"SET_ETH":return x({},e,{balanceETH:t.eth});case"SET_USER_DATA":return x({},e,{user:t.user});case"SIGNIN_START":return x({},e,{isSignin:!0});case"SIGNIN_SUCCESSFUL":return x({},e,{isSignin:!1,signinSuccessful:!0});case"SIGNIN_FAIL":return x({},e,{isSignin:!1,error:t.err});case"SIGNIN_FAIL_HANDLE":return x({},e,{error:null});case"CLEAR_STATE_REGISTER":return x({},e,{isSignup:!1,signupSuccessful:!1,error:null});case"SIGNUP_START":return x({},e,{isSignup:!0});case"SIGNUP_SUCCESSFUL":return x({},e,{isSignup:!1,signupSuccessful:!0});case"SIGNUP_FAIL":return x({},e,{isSignup:!1,error:t.err});case"SIGNUP_FAIL_HANDLE":return x({},e,{error:null});default:return e}},chatReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TITLE_NAME":return H({},e,{titleName:t.titleName});case"SET_RECEIVER_ID":return H({},e,{receiverID:t.receiverID});case"SET_LIST_FRIEND":return H({},e,{listFriend:t.listFriend,callingAPI:!1});case"SET_LIST_MESSAGE":return H({},e,{listMessage:t.listMessage,callingAPI:!1});case"PUSH_MESSAGE":return H({},e,{listMessage:[].concat(Object(M.a)(e.listMessage),[t.arr]),callingAPI:!1});case"CALLING_API":return H({},e,{callingAPI:!0});case"FAIL":return H({},e,{error:t.err,callingAPI:!1});case"FAIL_HANDLE":return H({},e,{error:null});case"FINDUSER_START":return H({},e,{isFindUser:!0});case"FINDUSER_SUCCESSFUL":return H({},e,{isFindUser:!1,findUserSuccessful:!0,dataFindUser:t.result});case"FINDUSER_FAIL":return H({},e,{isFindUser:!1,error:t.err});case"FINDUSER_FAIL_HANDLE":return H({},e,{error:null});default:return e}},appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_HOT_USER_SUCCESSFUL":return K({},e,{hotUserData:t.hotUserData});case"GET_HOME_DATA_START":return K({},e,{isGetHomeData:!0});case"GET_HOME_DATA_SUCCESSFUL":return K({},e,{isGetHomeData:!1,getHomeDataSuccessful:!0,homeData:t.homeData});case"GET_HOME_DATA_FAIL":return K({},e,{isGetHomeData:!1,errorGetHomeData:t.err});case"GET_HOME_DATA_HANLDE_ERROR":return K({},e,{errorGetHomeData:null});case"GET_HOME_DATA_RESET":return K({},e,{homeData:{},isGetHomeData:!1,getHomeDataSuccessful:!1,errorGetHomeData:null});case"SET_MUSIC_SELECTED":return K({},e,{musicSelected:t.musicSelected});case"SET_RANKING":return K({},e,{rankingdata:t.rankingdata,isLoadingRankingData:!1});case"RANKING_START":return K({},e,{isLoadingRankingData:!0});case"SET_ERR":return K({},e,{error:t.err,isLoadingRankingData:!1});default:return e}},pageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_FOLLOW_PAGE":return q({},e,{userInfoData:q({},e.userInfoData,{isFollowed:t.setFollow,follow:t.setFollow?e.userInfoData.follow+1:e.userInfoData.follow-1})});case"HANDLE_SET_ERROR_GET_USER_UPLOAD":return q({},e,{errorUpload:null});case"SET_ERROR_GET_USER_UPLOAD":return q({},e,{errorUpload:t.errorPage});case"HANDLE_SET_ERROR_GET_USER_PAGE":return q({},e,{errorPage:null});case"SET_ERROR_GET_USER_PAGE":return q({},e,{errorPage:t.errorPage});case"SET_LOADING_UPLOAD":return q({},e,{loadingUpload:t.loadingUpload});case"SET_LOADING_DOWNLOAD":return q({},e,{loadingDownload:t.loadingDownload});case"SET_LOADING_ISO":return q({},e,{loadingIsoData:t.loadingIsoData});case"SET_LOADING_USER_INFO":return q({},e,{loadingUserData:t.loadingUserData});case"SET_MUSIC_SELECTED":return q({},e,{musicSelected:window.$linkIPFS+t.musicSelected});case"SET_USER_UPLOAD_DATA":return q({},e,{uploadData:t.uploadData});case"SET_USER_DOWNLOAD_DATA":return q({},e,{downloadData:t.downloadData});case"SET_USER_ISO_DATA":return q({},e,{isoData:t.isoData});case"SET_USER_INFO_DATA":return q({},e,{userInfoData:t.userInfoData});default:return e}},songReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_RELATED_USER_SUCCESSFUL":return Q({},e,{relatedUserData:t.relatedUserData});case"GET_SONG_SAME_SINGER_SUCCESSFUL":return Q({},e,{songSameSingerData:t.songSameSingerData});case"SET_IS_FOLLOW_SONG":return Q({},e,{songInfo:Q({},e.songInfo,{isFollowed:t.setFollow,follow:t.setFollow?e.songInfo.follow++:e.songInfo.follow--})});case"SET_SONG_DATA":return Q({},e,{songInfo:t.songInfo});case"SET_ERROR_GET_SONG_DATA":return Q({},e,{error:t.error});case"SET_LOADING_SONG_DATA":return Q({},e,{isLoading:t.isLoading});default:return e}}}),X=function(e,t){return"LOG_OUT"===t.type&&(e=void 0),Z(e,t)},ee=Object(A.createLogger)({timestamps:!0,duration:!0}),te={key:"root",storage:R.a,whitelist:["userReducer"],stateReconciler:U.a},ae=Object(T.a)(te,X),ne=Object(k.e)(ae,Object(k.d)(Object(k.a)(ee,C.a))),re=Object(T.b)(ne),oe="updatable";function ie(){return{"Content-Type":"application/json; charset=utf-8",Accept:"application/json","x-access-token":ne.getState().userReducer.user.accessToken}}function ce(e){_.a.open({key:oe,description:r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(I.a,null),r.a.createElement("p",{style:{marginLeft:"15px"}},e)),duration:0,placement:"bottomLeft",style:{width:350}})}function se(e){_.a.error({key:oe,message:"Error message",description:e,duration:0,placement:"bottomLeft"})}function le(e){w.a.provider.waitForTransaction(e).then((function(){_.a.success({key:oe,message:"Sucess Transaction",description:"Transaction has been successful",duration:0,placement:"bottomLeft",style:{width:350}})})).catch((function(e){_.a.error({key:oe,message:"Error Transaction",description:"This is error message: "+e,duration:0,placement:"bottomLeft"})}))}function ue(e,t){for(var a=""+Math.floor(e),n=e%1,r=a.length,o="";(r-=3)>0;)o=","+a.substr(r,3)+o;return a.substr(0,r+3)+o+(n?"."+Math.round(n*Math.pow(10,t||2)):"")}function pe(e){return new Promise((function(t,a){return S.a.post(w.a.api_url+"/ethereums/download",e,{headers:ie()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))}function me(e){return new Promise((function(t,a){return S.a.get(w.a.api_url+"/ethereums/getISOAddress?address="+e,{headers:ie()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}var de=a(131);function fe(e,t){return function(a){a({type:"SIGNIN_START"}),function(e,t){return new Promise((function(a,n){var r={email:e,password:t};return S.a.post(w.a.api_url+"/users/login",r).then((function(e){if(0===e.data.status)return n(e.data.error.message);a(e.data.result)})).catch((function(e){n(e)}))}))}(e,t).then((function(e){a(function(e){return{type:"SET_USER_DATA",user:e}}(e))})).then((function(){a({type:"SIGNIN_SUCCESSFUL"})})).catch((function(e){a(function(e){return{type:"SIGNIN_FAIL",err:e}}(e))}))}}function he(e){return function(t){t({type:"UPDATE_START"}),function(e){return new Promise((function(t,a){return S.a.post(w.a.api_url+"/actions/updateUser",e,{headers:ie()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))}(e).then((function(e){t(function(e){return{type:"UPDATE_SUCCESSFUL",userName:e}}(e))})).catch((function(e){console.log(e),t(function(e){return{type:"UPDATE_FAIL",err:e}}(e))}))}}var ge=!0;function Ee(e){return{type:"SET_ETH",eth:e}}function ye(e,t,a,n,r){return function(o){o({type:"SIGNUP_START"}),function(e,t,a,n,r){return new Promise((function(o,i){var c={user:{email:e,password:t,nickName:a,phone:n,genre:r}};return S.a.post(w.a.api_url+"/users/create",c).then((function(e){if(1===e.data.status)return o();e.data.error.message.errmsg&&i(e.data.error.message.errmsg),i(e.data.error.message)})).catch((function(e){i(e)}))}))}(e,t,a,n,r).then((function(){o({type:"SIGNUP_SUCCESSFUL"})})).then((function(){o(fe(e,t))})).catch((function(e){o(be(e))}))}}function be(e){return{type:"SIGNUP_FAIL",err:e}}var ve=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||(console.log("Received values of form: ",t),a.props.login(t.email,t.password))}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return this.props.userReducer.error&&(h.a.error({title:"Login error message ",content:this.props.userReducer.error}),this.props.signin_fail_handle()),this.props.userReducer.signinSuccessful&&h.a.success({content:"Login success.",title:this.props.history.push("/home")}),r.a.createElement("div",{className:"wrap-form-login"},r.a.createElement(g.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(g.a.Item,null,t("email",{rules:[{required:!0,message:"Please input your email!"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(g.a.Item,null,t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(g.a.Item,null,t("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(b.a,null,"Remember me")),r.a.createElement("a",{className:"login-form-forgot"},"Forgot password"),r.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),"Or",r.a.createElement(v.a,{onClick:function(){return e.props.history.push("/register")},type:"link"},"register now!"))))}}]),t}(r.a.Component),Oe=g.a.create({name:"normal_login"})(ve),Se=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{login:function(t,a){return e(fe(t,a))},signin_fail_handle:function(){return e({type:"SIGNIN_FAIL_HANDLE"})}}}))(Oe),je=a(91),we=a(745),_e=a(80),Ie=a(177),ke=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(we.a,{icon:r.a.createElement(y.a,{type:"loading"}),title:"Please wait a second ..."})}}]),t}(r.a.Component),Te=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.subTitle,o=t.goTo,i=t.func;return r.a.createElement(we.a,{status:"error",title:a,subTitle:n,extra:[r.a.createElement(v.a,{type:"primary",onClick:function(){e.props.history.push("/".concat(o)),i()}},"Go to ",o)]})}}]),t}(r.a.Component),De=Object(f.g)(Te),Re=je.a.Option,Ae=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,t){var n=t.email,r=t.password,o=t.nickName,i=t.phone,c=t.genre;e||(console.log("Received values of form: ",t),a.props.createUser(n,r,o,i,c))}))},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a.handleSubmitSuccess=function(){a.props.history.push("/home"),a.props.clear_state_register()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},a=e("prefix",{initialValue:"84"})(r.a.createElement(je.a,{style:{width:70}},r.a.createElement(Re,{value:"84"},"+84"),r.a.createElement(Re,{value:"86"},"+86")));return this.props.userReducer.error?(alert(this.props.userReducer.error),this.props.clear_state_register(),r.a.createElement(De,null)):this.props.userReducer.signupSuccessful?(console.log("vo roi ne"),this.props.form.resetFields(),r.a.createElement(we.a,{status:"success",title:"Login Success",subTitle:"Click here to go home page !",extra:[r.a.createElement(v.a,{type:"primary",onClick:this.handleSubmitSuccess},"Go to homepage")]})):this.props.userReducer.isSignup?r.a.createElement(ke,null):r.a.createElement("div",{className:"wrap-form-login"},r.a.createElement(g.a,{onSubmit:this.handleSubmit,className:"register-form"},r.a.createElement(g.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(E.a.Password,null))),r.a.createElement(g.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(E.a.Password,{onBlur:this.handleConfirmBlur}))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"Nickname\xa0",r.a.createElement(_e.a,{title:"What do you want others to call you?"},r.a.createElement(y.a,{type:"question-circle-o"})))},e("nickName",{rules:[{required:!0,message:"Your input is not valid.",pattern:/^\S{8,16}$/}]})(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:"Phone Number"},e("phone",{rules:[{required:!0,message:"Please input your phone number!"}]})(r.a.createElement(E.a,{addonBefore:a,style:{width:"100%"}}))),r.a.createElement(g.a.Item,{label:"Genre"},e("genre",{initialValue:3})(r.a.createElement(Ie.a.Group,null,r.a.createElement(Ie.a,{value:1},"Man"),r.a.createElement(Ie.a,{value:2},"Woman"),r.a.createElement(Ie.a,{value:3},"Other")))),r.a.createElement(g.a.Item,t,e("agreement",{valuePropName:"checked"})(r.a.createElement(b.a,null,"I have read the ",r.a.createElement("a",null,"agreement")))),r.a.createElement(g.a.Item,t,r.a.createElement(v.a,{type:"primary",htmlType:"submit"},"Register"))))}}]),t}(r.a.Component),Ce=g.a.create({name:"register"})(Ae),Pe=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{createUser:function(t,a,n,r,o){return e(ye(t,a,n,r,o))},signup_fail:function(){return e(be())},signup_fail_handle:function(){return e({type:"SIGNUP_FAIL_HANDLE"})},clear_state_register:function(){return e({type:"CLEAR_STATE_REGISTER"})}}}))(Ce),Ue=a(130),Fe=a(345),Ne=a.n(Fe),xe=a(26),Le=a(725),Me=a(717),Ge=a(690),He=a(348),Be=a.n(He),ze=a(742),Ke=a(726),Ve=a(135),We=a(347),qe=a.n(We),$e=a(349),Je=a.n($e),Qe=a(728),Ye=a(727),Ze=a(719);var Xe=Object(xe.a)({card:{margin:"10px"},title:{fontSize:14,maxWidth:"50vw"},div:{display:"table"},sender:{display:"flex",justifyContent:"flex-end"},seen:{color:"#bdbdbd"}})((function(e){var t,a,n=e.classes;return!0===e.sender&&(t=n.sender),!0===e.seen&&(a="seen"),r.a.createElement("li",{className:t,style:{listStyleType:"none"}},r.a.createElement("div",{className:n.div},r.a.createElement(Me.a,{className:n.card},r.a.createElement(Ze.a,{style:{paddingBottom:"16px"}},r.a.createElement(Ve.a,{className:n.title,color:"textSecondary",gutterBottom:!0},e.content))),r.a.createElement("div",{className:n.seen},a)))})),et=a(179),tt=a(723),at=a(721),nt=a(752),rt=a(722),ot=a(724),it=a(720),ct=a(736),st=a(132),lt=a.n(st),ut=a(119),pt=a.n(ut);function mt(){return new Promise((function(e,t){var a={userID:ne.getState().userReducer.user.id};return S.a.post(w.a.api_url+"/chats/getListFriend",a,{headers:ie()}).then((function(a){if(0===a.data.status)return t(a.data.error);e(a.data.result)})).catch((function(e){t(e)}))}))}function dt(){return function(e){e({type:"CALLING_API"}),mt().then((function(t){if(e(ht(t)),t.length>=1){var a=t[0]._id;e(ft(a)),e(Et(a)),e(gt(t[0].email))}})).catch((function(t){e(yt(t))}))}}function ft(e){return function(t){t({type:"CALLING_API"}),function(e){return new Promise((function(t,a){var n={senderID:ne.getState().userReducer.user.id,receiverID:e};return S.a.post(w.a.api_url+"/chats/getListMessage",n,{headers:ie()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}(e).then((function(e){t(function(e){return{type:"SET_LIST_MESSAGE",listMessage:e}}(e))})).catch((function(e){t(yt(e))}))}}function ht(e){return{type:"SET_LIST_FRIEND",listFriend:e}}function gt(e){return{type:"SET_TITLE_NAME",titleName:e}}function Et(e){return{type:"SET_RECEIVER_ID",receiverID:e}}function yt(e){return{type:"FAIL",err:e}}function bt(e){return function(t){t({type:"FINDUSER_START"}),function(e){return new Promise((function(t,a){return S.a.get(w.a.api_url+"/users/find",{params:{keyword:e}}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){t(function(e){return{type:"FINDUSER_SUCCESSFUL",result:e}}(e))})).catch((function(e){t(function(e){return{type:"FINDUSER_FAIL",err:e}}(e))}))}}var vt={avatar:{backgroundColor:pt.a[100],color:pt.a[600]}},Ot=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){a.props.onClose(a.props.selectedValue)},a.handleListItemClick=function(e,t){a.props.onClose(),a.props.set_title_name(t),a.props.getListMessage(e),a.props.select_user_to_chat(e)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=(t.onClose,t.selectedValue,Object(et.a)(t,["classes","onClose","selectedValue"]));return r.a.createElement(ct.a,Object.assign({onClose:this.handleClose,"aria-labelledby":"simple-dialog-title"},n),r.a.createElement(it.a,{id:"simple-dialog-title"},"List users"),r.a.createElement("div",null,r.a.createElement(at.a,null,this.props.chatReducer.dataFindUser.map((function(t){return r.a.createElement(nt.a,{button:!0,onClick:function(){return e.handleListItemClick(t._id,t.email)},key:t._id},r.a.createElement(rt.a,null,r.a.createElement(tt.a,{className:a.avatar},r.a.createElement(lt.a,null))),r.a.createElement(ot.a,{primary:t.email}))})))))}}]),t}(r.a.Component),St=Object(m.b)((function(e){return{chatReducer:e.chatReducer}}),(function(e){return{getListFriend:function(){return e(dt())},getListMessage:function(t){return e(ft(t))},select_user_to_chat:function(t){return e(Et(t))},set_title_name:function(t){return e(gt(t))}}}))(Object(xe.a)(vt)(Ot)),jt={avatar:{backgroundColor:pt.a[100],color:pt.a[600]},onlineBar:{textAlign:"right"}},wt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleListItemClick=function(e,t){a.props.getListMessage(e),a.props.select_user_to_chat(e),a.props.set_title_name(t)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(at.a,null,this.props.chatReducer.listFriend.map((function(a){return a.socketID?r.a.createElement(nt.a,{button:!0,onClick:function(){return e.handleListItemClick(a._id,a.email)},key:a._id},r.a.createElement(rt.a,null,r.a.createElement(tt.a,{className:t.avatar},r.a.createElement(lt.a,null))),r.a.createElement(ot.a,{primary:a.email}),r.a.createElement(ot.a,{primary:"online",className:t.onlineBar})):r.a.createElement(nt.a,{button:!0,onClick:function(){return e.handleListItemClick(a._id,a.email)},key:a._id},r.a.createElement(rt.a,null,r.a.createElement(tt.a,{className:t.avatar},r.a.createElement(lt.a,null))),r.a.createElement(ot.a,{primary:a.email}))}))))}}]),t}(r.a.Component),_t=Object(m.b)((function(e){return{chatReducer:e.chatReducer}}),(function(e){return{getListFriend:function(){return e(dt())},getListMessage:function(t){return e(ft(t))},select_user_to_chat:function(t){return e(Et(t))},set_title_name:function(t){return e(gt(t))}}}))(Object(xe.a)(jt)(wt));function It(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function kt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?It(a,!0).forEach((function(t){Object(F.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):It(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Tt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleClickSearch=function(){a.setState({open:!0}),a.props.findUser(a.state.searchText)},a.handleClose=function(){a.setState({open:!1})},a.onClickLogOut=function(e){a.socket.disconnect(),a.props.log_out(),localStorage.clear(),a.props.history.push("/login")},a.onFocusMessage=function(){var e=a.props.chatReducer.listMessage,t=e[e.length-1];if(t){var n={senderID:t.senderID,receiverID:t.receiverID};a.props.userReducer.user.id!==t.senderID&&a.socket.emit("is seen",n)}},a.handleClickSend=function(){if(a.state.content){var e={senderID:a.props.userReducer.user.id,receiverID:a.props.chatReducer.receiverID,content:a.state.content},t={senderID:a.props.userReducer.user.id,content:a.state.content,date_created:Date(Date.now())};a.props.chatReducer.listFriend.find((function(e){return e._id===a.props.chatReducer.receiverID}))?a.socket.emit("chat message",e):(a.socket.emit("first message",e),a.socket.on("return friend",(function(){a.props.getNewFriend()}))),a.props.push_message(t),a.setState({content:""});var n=document.getElementById("inputMessage");n.scrollTop=n.scrollHeight,a.socket.emit("typing",kt({},e,{isTyping:!1}))}},a.componentWillMount=function(){null===a.props.userReducer.user.accessToken&&a.props.history.push("/login"),a.props.getListFriend();var e=a.props.userReducer.user.accessToken;a.socket=Ne()(w.a.url,{query:{token:e}}),a.socket.on("error",(function(e){alert("socket error"+e)})),a.socket.on("chat message",(function(e){var t={senderID:e.senderID,receiverID:e.receiverID,content:e.content,date_created:Date(Date.now())};e.senderID===a.props.chatReducer.receiverID&&a.props.push_message(t)})),a.socket.on("first message",(function(e){var t={senderID:e.senderID,receiverID:e.receiverID,content:e.content,date_created:Date(Date.now())};a.props.getListFriend(),e.senderID===a.props.chatReducer.receiverID&&a.props.push_message(t)})),a.socket.on("is seen",(function(){a.props.getListMessage(a.props.chatReducer.receiverID)})),a.socket.on("typing",(function(e){e.senderID===a.props.chatReducer.receiverID&&(!0===e.isTyping&&a.setState({typing:!0}),!1===e.isTyping&&a.setState({typing:!1}))}))},a.state={open:!1,searchText:"",content:"",typing:!1},a.socket=null,a.handleKeyPressSearch=a.handleKeyPressSearch.bind(Object(Ue.a)(a)),a.handleKeyPressMessage=a.handleKeyPressMessage.bind(Object(Ue.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleKeyPressSearch",value:function(e){"Enter"===e.key&&this.handleClickSearch()}},{key:"handleKeyPressMessage",value:function(e){var t={receiverID:this.props.chatReducer.receiverID,senderID:this.props.userReducer.user.id};"Enter"===e.key?this.handleClickSend(e):"Backspace"===e.key&&""===this.state.content&&this.socket.emit("typing",kt({},t,{isTyping:!1}))}},{key:"onTyping",value:function(e){this.setState({content:e.target.value});var t={receiverID:this.props.chatReducer.receiverID,senderID:this.props.userReducer.user.id};0===this.state.content.length&&(this.onFocusMessage(),this.socket.emit("typing",kt({},t,{isTyping:!0})))}},{key:"componentDidUpdate",value:function(){var e=document.getElementById("inputMessage");e.scrollTop=e.scrollHeight}},{key:"render",value:function(){var e=this,t=this.props.classes;return this.props.chatReducer.error&&(alert("Find user fail: "+this.props.chatReducer.error),this.props.signin_fail_handle()),r.a.createElement(Le.a,{container:!0,spacing:0},r.a.createElement(Le.a,{item:!0,xs:12,sm:3},r.a.createElement("div",{className:t.divTop,style:{borderRight:"1px solid #e0e0e0",justifyContent:"center"}},r.a.createElement(Ke.a,null,"Chat realtime"))),r.a.createElement(Le.a,{item:!0,xs:12,sm:9},r.a.createElement("div",{className:t.divTop,style:{justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(Ye.a,{style:{padding:5}},r.a.createElement(qe.a,null)),this.props.userReducer.user.email),r.a.createElement(Ve.a,{variant:"h6"},this.props.chatReducer.titleName),r.a.createElement(Ke.a,{onClick:this.onClickLogOut},"Log out"))),r.a.createElement(Le.a,{item:!0,xs:12,sm:3},r.a.createElement("div",{className:t.divBottom,style:{borderRight:"1px solid #e0e0e0"}},r.a.createElement("div",{className:t.searchDiv},r.a.createElement(ze.a,{placeholder:"Search\u2026",classes:{root:t.inputSearchRoot,input:t.inputSearch},value:this.state.searchText,onChange:function(t){return e.setState({searchText:t.target.value})},onKeyPress:this.handleKeyPressSearch}),r.a.createElement(Qe.a,{className:t.divider}),r.a.createElement(Ye.a,{type:"submit",variant:"outlined",className:t.iconButton,onClick:this.handleClickSearch,disabled:this.props.chatReducer.isFindUser},r.a.createElement(Be.a,null)),r.a.createElement(St,{className:t.findUser,open:this.state.open,onClose:this.handleClose})),r.a.createElement("div",null,r.a.createElement(Me.a,{className:t.cardListFriend},r.a.createElement(_t,null))))),r.a.createElement(Le.a,{item:!0,xs:12,sm:9},r.a.createElement("div",{className:t.divBottom},r.a.createElement(Me.a,{className:t.cardMessage},r.a.createElement("div",{id:"inputMessage",style:{overflow:"auto"}},r.a.createElement("ul",null,this.props.chatReducer.listMessage.map((function(t){if(t.senderID===e.props.userReducer.user.id){var a=e.props.chatReducer.listMessage,n=a[a.length-1];return t===n&&!0===n.isSeen?r.a.createElement(Xe,{content:t.content,key:t._id,sender:!0,seen:!0}):r.a.createElement(Xe,{content:t.content,key:t._id,sender:!0})}return r.a.createElement(Xe,{content:t.content,key:t._id,sender:!1})})),r.a.createElement(Ve.a,{style:{color:"#bdbdbd"}},this.state.typing?"Typing.......":""))),r.a.createElement("div",null,r.a.createElement(Ge.a,{className:t.messageBar,elevation:4},r.a.createElement(ze.a,{className:t.input,onFocus:this.onFocusMessage,placeholder:"Message...",value:this.state.content,onChange:function(t){e.onTyping(t)},onKeyUp:this.handleKeyPressMessage}),r.a.createElement(Qe.a,{className:t.divider}),r.a.createElement(Ke.a,{color:"secondary",onClick:function(t){e.handleClickSend(t)}},"Send",r.a.createElement(Je.a,null))))))))}}]),t}(r.a.Component),Dt=Object(m.b)((function(e){return{chatReducer:e.chatReducer,userReducer:e.userReducer}}),(function(e){return{findUser:function(t){return e(bt(t))},findUser_fail_handle:function(){return e({type:"FINDUSER_FAIL_HANDLE"})},getListFriend:function(){return e(dt())},getListMessage:function(t){return e(ft(t))},push_message:function(t){return e(function(e){return{type:"PUSH_MESSAGE",arr:e}}(t))},getNewFriend:function(){return e((function(e){e({type:"CALLING_API"}),mt().then((function(t){e(ht(t))})).catch((function(t){e(yt(t))}))}))},log_out:function(){return e({type:"LOG_OUT"})}}}))(Object(xe.a)((function(e){return{messageBar:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"},divider:{width:1,height:40,margin:4},divTop:{padding:e.spacing.unit,display:"flex",flexDirection:"row",borderBottom:"1px solid #e0e0e0"},divBottom:{height:"calc(100vh - "+15*e.spacing.unit+"px)",padding:2*e.spacing.unit},searchDiv:{background:"#e0e0e0",borderRadius:6,color:"#212121",display:"flex",flexDirection:"row"},iconButton:{background:"#bdbdbd"},input:{marginLeft:8,flex:1},inputSearchRoot:{width:"100%"},inputSearch:{paddingLeft:e.spacing.unit},cardMessage:{borderRadius:"6px",height:"calc(100vh - "+13*e.spacing.unit+"px)",display:"flex",flexDirection:"column",justifyContent:"flex-end"},cardListFriend:{marginTop:2*e.spacing.unit,borderRadius:"6px",height:"calc(100vh - "+21*e.spacing.unit+"px)",overflow:"auto"},findUser:{overflow:"auto",height:"calc(100vh - "+21*e.spacing.unit+"px)"},typing:{display:"none"}}}))(Tt)),Rt=a(739),At=a(241),Ct=a(749),Pt=a(750),Ut=a(176),Ft=a(743),Nt=a(129),xt=a.n(Nt),Lt=Rt.a.Text,Mt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,amountFaucet:25e3},a.onClickLogOut=function(){a.props.logOut(),localStorage.clear(),a.props.history.push("/login")},a.handleOk=function(){a.setState({visible:!1}),ce("Faucet HAK loading ..."),function(e){return new Promise((function(t,a){return S.a.post(w.a.api_url+"/ethereums/faucet",e,{headers:ie()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))}({address:a.props.userReducer.user.addressEthereum,amount:a.state.amountFaucet}).then((function(e){le(e)}))},a.componentDidMount=function(){a.props.getBalance(a.props.userReducer.user.addressEthereum)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.amountFaucet,o=r.a.createElement(At.a,null,r.a.createElement(At.a.Item,{onClick:function(){return e.props.history.push("/HAK")}},r.a.createElement(y.a,{type:"pay-circle",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Lt,null,this.props.userReducer.user.HAK," HAK")),r.a.createElement(At.a.Item,{onClick:function(){return e.props.history.push("/ETH")}},r.a.createElement(y.a,{type:"dollar",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Lt,null,this.props.userReducer.balanceETH," ETH")),r.a.createElement(At.a.Divider,null),r.a.createElement(At.a.Item,{onClick:function(){e.props.userReducer.user.userName?e.props.history.push("/page/".concat(e.props.userReducer.user.userName)):e.props.history.push("/page/".concat(e.props.userReducer.user.addressEthereum))}},r.a.createElement(y.a,{type:"user",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Lt,null,"Home Page")),r.a.createElement(At.a.Item,{onClick:function(){return e.props.history.push("/setting")}},r.a.createElement(y.a,{type:"setting",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Lt,null,"Setting")),r.a.createElement(At.a.Item,{onClick:function(){e.setState({visible:!0})}},r.a.createElement(y.a,{type:"transaction",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Lt,null,"Faucet")),r.a.createElement(At.a.Divider,null),r.a.createElement(At.a.Item,{onClick:function(){return e.onClickLogOut()}},r.a.createElement(y.a,{type:"logout",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Lt,null,"Log Out")));return r.a.createElement("div",{style:{borderBottom:"1px solid #D6DBDF",height:60,display:"flex",justifyContent:"center"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:1100}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(_e.a,{placement:"topLeft",title:"Justice music",arrowPointAtCenter:!0},r.a.createElement("img",{src:xt.a,onClick:function(){return e.props.history.push("/home")},alt:"Justice music",style:{width:"35px",height:"30px"}}))),r.a.createElement("div",null,r.a.createElement(v.a,{ghost:!0,style:{color:"#424242",marginLeft:5}},"SONGS"),r.a.createElement(v.a,{ghost:!0,style:{color:"#424242",marginLeft:5}},"ARTISTS"),r.a.createElement(v.a,{ghost:!0,style:{color:"#424242",marginLeft:5},onClick:function(){return e.props.history.push("/iso")}},"ISO"),r.a.createElement(v.a,{ghost:!0,style:{color:"#424242",marginLeft:5}},"RANKING"),r.a.createElement(v.a,{ghost:!0,style:{color:"#424242",marginLeft:5}},"EVENTS"),r.a.createElement(v.a,{ghost:!0,style:{color:"#424242",marginLeft:5}},"CONTRACTS"),r.a.createElement(Ct.a,{style:{width:200},dataSource:["Burns Bay Road","Downing Street","Wall Street"],placeholder:"T\xecm b\xe0i h\xe1t ho\u1eb7c ca s\u0129 ...",filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())}},r.a.createElement(E.a,{suffix:r.a.createElement(y.a,{type:"search",className:"certain-category-icon"})}))),r.a.createElement("div",null,r.a.createElement(_e.a,{placement:"topLeft",title:"Notification",arrowPointAtCenter:!0},r.a.createElement(Pt.a,{count:1234},r.a.createElement(y.a,{type:"bell",style:{color:"#1da1f2",fontSize:25,paddingLeft:17}}))),r.a.createElement(_e.a,{placement:"topLeft",title:"Message",arrowPointAtCenter:!0},r.a.createElement(Pt.a,{count:20},r.a.createElement(y.a,{type:"message",onClick:function(){return e.props.history.push("/message")},style:{color:"#1da1f2",fontSize:25,paddingLeft:17}}))),r.a.createElement(_e.a,{placement:"topLeft",title:"Contract",arrowPointAtCenter:!0},r.a.createElement(Pt.a,{count:5},r.a.createElement(y.a,{type:"profile",style:{color:"#1da1f2",fontSize:25,paddingLeft:17}}))),r.a.createElement(Ut.a,{overlay:o,trigger:["click"]},r.a.createElement(y.a,{type:"caret-down",style:{color:"#1da1f2",fontSize:25,paddingLeft:17}})))),r.a.createElement(h.a,{title:"Faucet HAK",width:250,visible:a,onOk:this.handleOk,onCancel:function(){e.setState({visible:!1})}},r.a.createElement(Ft.a,{defaultValue:n,min:1e3,max:1e6,style:{width:150},formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},onChange:function(t){e.setState({amountFaucet:t})}})))}}]),t}(n.Component),Gt=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{getBalance:function(t){return e((a=t,function(e){if(ge){ge=!1,w.a.provider.getBalance(a).then((function(t){var a=de.ethers.utils.formatEther(t);e(Ee(a))})),w.a.provider.on(a,(function(t){var a=de.ethers.utils.formatEther(t);e(Ee(a))}));var t=w.a.tokenAddress,n=w.a.tokenABI,r=w.a.provider,o=new de.ethers.Contract(t,n,r),i=o.filters.Transfer(null,a);o.on(i,(function(t,a,n){console.log(Number(n)),console.log("I received "+n.toString()+" tokens from "+t),e({type:"SET_HAK_ADD",hak:Number(n)})}));var c=o.filters.Transfer(a);o.on(c,(function(t,a,n){console.log(Number(n)),console.log("I sended "+n.toString()+" tokens to "+a),e({type:"SET_HAK_SUB",hak:Number(n)})}))}}));var a}}}))(Mt),Ht=(a(556),a(121)),Bt=a(67),zt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"footerdiv"},r.a.createElement("div",{className:"footercontent"},r.a.createElement(Ht.a,{gutter:8},r.a.createElement(Bt.a,{className:"gutter-row",span:8},r.a.createElement("img",{src:xt.a,className:"footerlogo",alt:"Justice music"}),r.a.createElement("h2",null,"Justice Music")),r.a.createElement(Bt.a,{className:"gutter-row",span:8},r.a.createElement("div",{className:"footermiddlecol"},r.a.createElement("p",null," ",r.a.createElement(y.a,{type:"environment"})," Silicon Valley, United States"),r.a.createElement("p",null," ",r.a.createElement(y.a,{type:"mobile"})," 0372598218"),r.a.createElement("p",null," \xa9 2019 Justice Music All Rights Reserverd"))),r.a.createElement(Bt.a,{className:"gutter-row",span:8},r.a.createElement("h2",null," About The Company"),r.a.createElement("p",null),r.a.createElement("p",null," We offer many solutions to protect your music copyright.  "))))))}}]),t}(r.a.Component),Kt=a(729),Vt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"block"}},r.a.createElement(Gt,{history:this.props.history,logOut:this.props.log_out}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",padding:10}},r.a.createElement("div",{style:{width:1100,minHeight:"calc(100vh - 270px)",backgroundColor:"#ffffff",padding:10}},this.props.main)),r.a.createElement(zt,null),r.a.createElement(Kt.a,{visibilityHeight:"100"}))}}]),t}(n.Component),Wt=Object(m.b)(null,(function(e){return{log_out:function(){return e({type:"LOG_OUT"})}}}))(Vt),qt=a(748),$t=a(733),Jt=a(747),Qt=a(746),Yt=a(730);function Zt(){return function(e){new Promise((function(e,t){return S.a.get(w.a.api_url+"/actions/getHotUsers",{headers:ie()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){e(function(e){return{type:"GET_HOT_USER_SUCCESSFUL",hotUserData:e}}(t))})).catch((function(e){console.log("Error at get getHotUsersAPI: "+e)}))}}function Xt(){return function(e){e({type:"GET_HOME_DATA_START"}),new Promise((function(e,t){return S.a.get(w.a.api_url+"/actions/getHomeSongs",{headers:ie()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){e(function(e){return{type:"GET_HOME_DATA_SUCCESSFUL",homeData:e}}(t))})).catch((function(t){e(function(e){return{type:"GET_HOME_DATA_FAIL",err:e}}(t))}))}}function ea(e){return{type:"SET_MUSIC_SELECTED",musicSelected:e}}function ta(){return function(e){e({type:"RANKING_START"}),new Promise((function(e,t){return S.a.get(w.a.api_url+"/ethereums/getTimeRanking",{headers:ie()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){e({type:"SET_RANKING",rankingdata:t})})).catch((function(t){e(function(e){return{type:"SET_ERR",err:e}}(t))}))}}a(557);var aa=Rt.a.Text,na=Rt.a.Title,ra=[{},{},{},{},{},{},{},{},{},{}],oa=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getRanking()}},{key:"render",value:function(){var e=this,t=this.props.appReducer.rankingdata;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(na,{level:4,type:"secondary"}," B\u1ea2NG X\u1ebeP H\u1ea0NG TU\u1ea6N "),null===t?r.a.createElement(Jt.a,{itemLayout:"horizontal",dataSource:ra,renderItem:function(e){return r.a.createElement(Jt.a.Item,null,r.a.createElement(Qt.a,{loading:!0,active:!0,paragraph:{rows:1},avatar:{shape:"square",size:70}}))}}):r.a.createElement(Jt.a,{itemLayout:"horizontal",dataSource:t,renderItem:function(t,a){return t?r.a.createElement(Jt.a.Item,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(na,{level:4,style:{alignSelf:"center",marginRight:10},type:0===a?"danger":1===a?"warning":2===a?"":"secondary"},a+1)),r.a.createElement(Jt.a.Item.Meta,{avatar:r.a.createElement(Yt.a,{shape:"square",size:70,src:window.$linkIPFS+t.image,onClick:function(){return e.props.history.push("/song/".concat(t._id))}}),title:r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14,height:20},type:"link",onClick:function(){e.props.set_music_selected(t)}},t.name),description:r.a.createElement("div",null,t.artist,r.a.createElement("br",null),r.a.createElement("div",{className:"row-space-between"},r.a.createElement(_e.a,{title:t.userUpload.nickName,placement:"leftTop"},r.a.createElement(Yt.a,{shape:"circle",size:"small",src:window.$linkIPFS+t.userUpload.avatar,onClick:function(){return e.props.history.push("/page/".concat(t.userUpload.addressEthereum))}})),r.a.createElement(aa,{style:{alignSelf:"center"},code:!0},t.downloadWeekRanking," Downloads")))})):null}}))}}]),t}(r.a.Component),ia=Object(f.g)(Object(m.b)((function(e){return{appReducer:e.appReducer}}),(function(e){return{set_music_selected:function(t){return e(ea(t))},getRanking:function(){return e(ta())}}}))(oa)),ca=a(731),sa=a(732),la=a(737);function ua(e){return function(t){t(Ea(!0)),me(e).then((function(e){t({type:"SET_USER_ISO_DATA",isoData:e})})).then((function(){t(Ea(!1))})).catch((function(e){t(Ea(!1)),t(ba(e))}))}}function pa(e){return function(t){t(ga(!0)),function(e){return new Promise((function(t,a){return S.a.get(w.a.api_url+"/ethereums/getUserDownload/".concat(e),{headers:ie()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){t({type:"SET_USER_DOWNLOAD_DATA",downloadData:e})})).then((function(){t(ga(!1))})).catch((function(e){t(ga(!1)),t(ba(e))}))}}function ma(e){return function(t){t(ha(!0)),function(e){return new Promise((function(t,a){return S.a.get(w.a.api_url+"/ethereums/getUserUpload/".concat(e),{headers:ie()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){t({type:"SET_USER_UPLOAD_DATA",uploadData:e})})).then((function(){t(ha(!1))})).catch((function(e){t(ha(!1)),t(ba(e))}))}}function da(e){return function(t){t(ya(!0)),function(e){return new Promise((function(t,a){return S.a.get(w.a.api_url+"/actions/userPage?userName="+e,{headers:ie()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){return t({type:"SET_USER_INFO_DATA",userInfoData:e}),e})).then((function(e){t(ya(!1)),t(ma(e.addressEthereum)),t(pa(e.addressEthereum)),t(ua(e.addressEthereum))})).catch((function(e){t(ya(!1)),t({type:"SET_ERROR_GET_USER_PAGE",errorPage:e})}))}}function fa(e){return{type:"SET_IS_FOLLOW_PAGE",setFollow:e}}function ha(e){return{type:"SET_LOADING_UPLOAD",loadingUpload:e}}function ga(e){return{type:"SET_LOADING_DOWNLOAD",loadingDownload:e}}function Ea(e){return{type:"SET_LOADING_ISO",loadingIsoData:e}}function ya(e){return{type:"SET_LOADING_USER_INFO",loadingUserData:e}}function ba(e){return{type:"SET_ERROR_GET_USER_UPLOAD",errorUpload:e}}function va(e,t){if("Image"===t){var a="image/jpeg"===e.type||"image/png"===e.type;a||ca.a.error("You can only upload JPG/PNG file!");var n=e.size/1024/1024<2;return n||ca.a.error("Image must smaller than 2MB!"),a&&n}if("Music"===t){var r="audio/mp3"===e.type;return r||ca.a.error("You can only upload Mp3 file!"),r}}var Oa=g.a.create({name:"form_in_modal"})(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={USD:0,costUSD:23e3},a.resetUSD=function(){a.setState({USD:0})},a.normFileMusic=function(e){return va(e.file,"Music")?(console.log("Upload event:",e),Array.isArray(e)?e:(2===e.fileList.length&&(e.fileList=e.fileList.slice(-1)),e&&e.fileList)):void 0},a.normFileImage=function(e){return va(e.file,"Image")?(console.log("Upload event:",e),Array.isArray(e)?e:(2===e.fileList.length&&(e.fileList=e.fileList.slice(-1)),e&&e.fileList)):void 0},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCancel,o=t.onCreate,i=t.form.getFieldDecorator,c=je.a.Option;return r.a.createElement(h.a,{visible:a,title:"Upload media",okText:"Submit",onCancel:n,onOk:o},r.a.createElement(g.a,{layout:"vertical"},r.a.createElement(g.a.Item,{label:"Media's name"},i("SongName",{rules:[{required:!0,message:"Please input the name of this song!"}]})(r.a.createElement(E.a,{placeholder:"Please select song's name"}))),r.a.createElement(g.a.Item,{label:"Artists's name"},i("ArtistsName",{rules:[{required:!0,message:"Please input artists'name!"}]})(r.a.createElement(E.a,{placeholder:"Please select artists's name"}))),r.a.createElement(g.a.Item,{label:"Tags"},i("Tags",{rules:[{message:"Please select song's tag ",type:"array"}]})(r.a.createElement(je.a,{mode:"multiple",placeholder:"Please select song's tag"},r.a.createElement(c,{value:"Rap"},"Rap"),r.a.createElement(c,{value:"Rock"},"Rock"),r.a.createElement(c,{value:"young"},"Young"),r.a.createElement(c,{value:"pre-war"},"Pre-war"),r.a.createElement(c,{value:"lyrical"},"Lyrical"),r.a.createElement(c,{value:"US-UK"},"US-UK")))),r.a.createElement(g.a.Item,{label:"Price HAK"},i("Price",{rules:[{required:!0,message:"Please input cost of this song!"}],initialValue:0,onChange:function(t){e.setState({USD:t/e.state.costUSD})}})(r.a.createElement(Ft.a,{min:0,max:1e10})),r.a.createElement("span",{className:"ant-form-text"}," HAK"),r.a.createElement("span",{className:"ant-form-text"},"\u279c   ",this.state.USD," USD")),r.a.createElement(g.a.Item,{label:"Contract permission"},i("ContractPermission",{initialValue:!0,valuePropName:"checked"})(r.a.createElement(sa.a,null))),r.a.createElement(g.a.Item,{label:"Upload Image"},i("Image",{valuePropName:"fileList",getValueFromEvent:this.normFileImage})(r.a.createElement(la.a,{name:"file",action:w.a.api_url+"/users/upload",listType:"picture"},r.a.createElement(v.a,null,r.a.createElement(y.a,{type:"upload"})," Click to upload image")))),r.a.createElement(g.a.Item,{label:"Upload Music"},i("Music",{valuePropName:"fileList",getValueFromEvent:this.normFileMusic,rules:[{required:!0}]})(r.a.createElement(la.a.Dragger,{action:w.a.api_url+"/users/upload"},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(y.a,{type:"inbox"})),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload music"))))))}}]),t}(r.a.Component)),Sa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.formRef.props.form;e.validateFields((function(t,n){if(t)return ca.a.error("please fill out all fields");a.openUploadNotification(n),e.resetFields(),a.child.resetUSD(),a.setState({visible:!1})}))},a.saveFormRef=function(e){a.formRef=e},a.openUploadNotification=function(e){ce("Uploading ..."),console.log(e),function(e){return new Promise((function(t,a){return S.a.post(w.a.api_url+"/ethereums/upload",e,{headers:ie()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))}({ether:{hash:e.Music[0].response.result,price:e.Price},server:{hash:e.Music[0].response.result,image:e.Image[0].response.result,name:e.SongName,artist:e.ArtistsName,tags:e.Tags,contractPermission:e.ContractPermission}}).then((function(e){le(e),w.a.provider.waitForTransaction(e).then((function(){a.props.getUserUpload(a.props.userReducer.user.addressEthereum)}))})).catch((function(e){se(e)}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(v.a,{type:"danger",onClick:this.showModal},"Upload"),r.a.createElement(Oa,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,onRef:function(t){return e.child=t}}))}}]),t}(r.a.Component),ja=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{getUserUpload:function(t){return e(ma(t))}}}))(Sa);function wa(){return function(e){new Promise((function(e,t){return S.a.get(w.a.api_url+"/actions/getRelatedUser",{headers:ie()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){e(function(e){return{type:"GET_RELATED_USER_SUCCESSFUL",relatedUserData:e}}(t))})).catch((function(e){console.log("Error at get relatedUserData: "+e)}))}}function _a(e){return function(t){(function(e){return new Promise((function(t,a){return S.a.get(w.a.api_url+"/actions/getSongSameSinger/?idUserUpload=".concat(e.idUserUpload,"&exceptedSongID=").concat(e.exceptedSongID),{headers:ie()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))})(e).then((function(e){t(function(e){return{type:"GET_SONG_SAME_SINGER_SUCCESSFUL",songSameSingerData:e}}(e))})).catch((function(e){console.log("Error at get songSameSingerData: "+e)}))}}function Ia(e){return function(t){t(ka(!0)),function(e){return new Promise((function(t,a){return S.a.get(w.a.api_url+"/actions/getSongByID?id="+e,{headers:ie()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){t(function(e){return{type:"SET_SONG_DATA",songInfo:e}}(e)),t(_a({idUserUpload:e.userUpload._id,exceptedSongID:e._id}))})).then((function(){t(ka(!1))})).catch((function(e){t(ka(!1)),t({type:"SET_ERROR_GET_SONG_DATA",error:e})}))}}function ka(e){return{type:"SET_LOADING_SONG_DATA",isLoading:e}}var Ta=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onHanleFollow=function(e){(function(e){return new Promise((function(t,a){return S.a.post(w.a.api_url+"/actions/follow",e,{headers:ie()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))})({followedID:a.props.ownerSongID}).then((function(t){a.props.isPage?a.props.set_is_follow_page(e):a.props.set_is_follow_song(e)}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.props.ownerSongID===this.props.userReducer.user.id?r.a.createElement(ja,null):r.a.createElement(v.a,{type:"danger",onClick:function(){return e.onHanleFollow(!e.props.isFollowed)}},this.props.isFollowed?"Unfollow":"Follow")}}]),t}(r.a.Component),Da=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{set_is_follow_song:function(t){return e(function(e){return{type:"SET_IS_FOLLOW_SONG",setFollow:e}}(t))},set_is_follow_page:function(t){return e(fa(t))}}}))(Ta),Ra=Rt.a.Text,Aa=qt.a.Meta,Ca=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user;return r.a.createElement(_e.a,{style:{display:"flex"},title:t.view+" view page",placement:"top",onClick:function(){return e.props.history.push("/page/".concat(t.addressEthereum))}},r.a.createElement(qt.a,{hoverable:!0,size:"small",cover:r.a.createElement(Yt.a,{alt:"music background",size:this.props.songPage?160:170,src:window.$linkIPFS+t.avatar}),bodyStyle:{padding:"10px",textAlign:"center"},bordered:!1,style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(Aa,{title:r.a.createElement(Ra,{style:{fontSize:15},type:"warning"},t.nickName),description:r.a.createElement(Ra,{style:{fontSize:14},type:"secondary"},t.follow," Follows")})))}}]),t}(r.a.Component),Pa=Object(f.g)(Object(m.b)((function(e){return{}}),(function(e){return{set_music_selected:function(t){return e(ea(t))}}}))(Ca)),Ua=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Qt.a,{active:!0,title:!1,avatar:{shape:"circle",size:180},paragraph:!1}),r.a.createElement(Qt.a,{active:!0,title:{width:130},paragraph:{rows:1,width:180}}))}}]),t}(r.a.Component),Fa=Rt.a.Text,Na=qt.a.Meta,xa=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.songInfo;return r.a.createElement(_e.a,{title:t.view+"view song",placement:"top"},r.a.createElement(qt.a,{hoverable:!0,size:"small",cover:r.a.createElement("img",{onClick:function(){return e.props.history.push("/song/".concat(t._id))},className:"img-background-music",alt:"music background",src:window.$linkIPFS+t.image}),bodyStyle:{padding:"10px"},bordered:!1},r.a.createElement(Na,{title:r.a.createElement(_e.a,{style:{display:"flex",flexDirection:"column"},title:"Play this song now",placement:"top",onClick:function(){e.props.set_music_selected(t)}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:13,height:20,width:"100%"},type:"link"},t.name),r.a.createElement(Fa,{style:{fontSize:13},type:"secondary"},t.artist))),description:r.a.createElement(_e.a,{style:{display:"flex"},title:"Go to page of user upload",placement:"bottom",onClick:function(){return e.props.history.push("/page/".concat(t.userUpload.addressEthereum))}},r.a.createElement(Yt.a,{shape:"circle",style:{marginRight:5},size:"small",src:window.$linkIPFS+t.userUpload.avatar}),r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14,height:20,width:"70%",overflow:"hiden"},type:"link"},r.a.createElement(Fa,{type:"warning",style:{alignSelf:"center"}},t.userUpload.nickName)))})))}}]),t}(r.a.Component),La=Object(f.g)(Object(m.b)((function(e){return{}}),(function(e){return{set_music_selected:function(t){return e(ea(t))}}}))(xa)),Ma=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Qt.a,{active:!0,title:!1,avatar:{shape:"square",size:160},paragraph:!1}),r.a.createElement("br",null),r.a.createElement(Qt.a,{active:!0,title:!1,avatar:{size:"small"},paragraph:{rows:1,width:120}}))}}]),t}(r.a.Component),Ga=(Rt.a.Text,Rt.a.Title),Ha=(qt.a.Meta,function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getHomeSongs(),this.props.getHotUsers()}},{key:"render",value:function(){var e,t=this.props.appReducer;return r.a.createElement("div",null,r.a.createElement(Ht.a,{gutter:[8,0]},r.a.createElement($t.a,{autoplay:!0},r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%",height:"400px",objectFit:"cover"},alt:"Music test",src:"https://ipfs.fotra.tk/ipfs/QmQ6qMBCo3yT6QQ6mbGG4VgiauzDn9tJosCBFPTDFJ2AFd"})),r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%",height:"400px",objectFit:"cover"},alt:"Music test",src:"https://ipfs.fotra.tk/ipfs/QmUFZGKFic3GVeWmkeGu1p2BpAYMPj5ZTamvwv29uRBg4C"})),r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%",height:"400px",objectFit:"cover"},alt:"Music test",src:"https://ipfs.fotra.tk/ipfs/Qmc1qzzq83TfQQcLNtAbEGThQiBqP4EFgmtuotndbVZ8T1"})),r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%",height:"400px",objectFit:"cover"},alt:"Music test",src:"https://ipfs.fotra.tk/ipfs/QmUgWzqE6tJPrA1aKT7hQydgMARCe9akiX6yCDMmAHm9B1"})))),r.a.createElement(Ht.a,{gutter:[24,0],style:{marginTop:20}},r.a.createElement(Bt.a,{span:17},r.a.createElement(Ht.a,{gutter:[8,0],style:{marginTop:20}},r.a.createElement(Ga,{level:4,type:"secondary"},"THE MOST HEAD SONG")),r.a.createElement(Ht.a,{gutter:[8,0],type:"flex",justify:"space-around"},t.homeData?t.homeData.mostView.map((function(e){return r.a.createElement(Bt.a,{span:6,style:{width:190,marginTop:20}},r.a.createElement(La,{songInfo:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt.a,{span:6,style:{marginTop:20}},r.a.createElement(Ma,null)),r.a.createElement(Bt.a,{span:6,style:{marginTop:20}},r.a.createElement(Ma,null)),r.a.createElement(Bt.a,{span:6,style:{marginTop:20}},r.a.createElement(Ma,null)),r.a.createElement(Bt.a,{span:6,style:{marginTop:20}},r.a.createElement(Ma,null)))),r.a.createElement(Ht.a,{gutter:[8,0],style:{marginTop:20}},r.a.createElement(Ga,{level:4,type:"secondary"},"NEW RELEASE")),r.a.createElement(Ht.a,{gutter:[8,0],type:"flex",justify:"space-around"},t.homeData?t.homeData.mostNew.map((function(e){return r.a.createElement(Bt.a,{span:6,style:{width:190,marginTop:20}},r.a.createElement(La,{songInfo:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt.a,{span:6,style:{marginTop:20}},r.a.createElement(Ma,null)),r.a.createElement(Bt.a,{span:6,style:{marginTop:20}},r.a.createElement(Ma,null)),r.a.createElement(Bt.a,{span:6,style:{marginTop:20}},r.a.createElement(Ma,null)),r.a.createElement(Bt.a,{span:6,style:{marginTop:20}},r.a.createElement(Ma,null)))),r.a.createElement(Ht.a,(e={gutter:[8,0]},Object(F.a)(e,"gutter",[8,0]),Object(F.a)(e,"style",{marginTop:20}),e),r.a.createElement(Ga,{level:4,type:"secondary"},"HOT SINGER")),r.a.createElement(Ht.a,{gutter:[8,0],type:"flex",justify:"space-around"},t.hotUserData?t.hotUserData.map((function(e){return r.a.createElement(Bt.a,{span:6,style:{width:180,marginTop:20}},r.a.createElement(Pa,{user:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt.a,{span:6,style:{marginTop:20}},r.a.createElement(Ua,null)),r.a.createElement(Bt.a,{span:6,style:{marginTop:20}},r.a.createElement(Ua,null)),r.a.createElement(Bt.a,{span:6,style:{marginTop:20}},r.a.createElement(Ua,null)),r.a.createElement(Bt.a,{span:6,style:{marginTop:20}},r.a.createElement(Ua,null))))),r.a.createElement(Bt.a,{span:7},r.a.createElement(ia,null))))}}]),t}(n.Component)),Ba=Object(m.b)((function(e){return{appReducer:e.appReducer}}),(function(e){return{getHomeSongs:function(){return e(Xt())},getHotUsers:function(){return e(Zt())}}}))(Ha),za=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Wt,{main:r.a.createElement(Ba,null),history:this.props.history})}}]),t}(n.Component),Ka=(a(615),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"view"},r.a.createElement("div",{class:"plane main",onClick:function(){return e.props.history.push("/login")}},r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"})))}}]),t}(n.Component)),Va=a(239),Wa=(a(616),a(751)),qa=a(734),$a=a(735);function Ja(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Qa=Rt.a.Text,Ya=g.a.create({name:"form_in_modal"})(function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,o=e.form.getFieldDecorator;return r.a.createElement(h.a,{visible:t,title:"Using ISO",okText:"Submit",onCancel:a,onOk:n},r.a.createElement(g.a,{layout:"horizontal"},r.a.createElement(g.a.Item,{label:"Offer Percent"},o("offerPercent",{rules:[{required:!0,message:"Please input cost of this song!"}],initialValue:0})(r.a.createElement(Ft.a,{min:1,max:1e5,step:1,style:{width:150},formatter:function(e){return"".concat(e,"%").replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace("%","").replace(/\$\s?|(,*)/g,"")}}))),r.a.createElement(g.a.Item,{label:"Offer Amount"},o("offerAmount",{rules:[{required:!0,message:"Please input cost of this song!"}],initialValue:0})(r.a.createElement(Ft.a,{min:0,style:{width:150},formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}}))),r.a.createElement(g.a.Item,{label:"Offer Maintain"},o("maintain",{rules:[{required:!0,message:"Please input cost of this song!"}],initialValue:0})(r.a.createElement(Ft.a,{min:0,max:2592e3,style:{width:150},formatter:function(e){return"\ud83d\udd57 ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\ud83d\udd57\s?|(,*)/g,"")}})))))}}]),t}(r.a.Component)),Za=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.formRef.props.form;e.validateFields((function(t,n){if(t)return ca.a.error("Please fill out all fields");a.openUploadNotification(n),e.resetFields(),a.setState({visible:!1})}))},a.openUploadNotification=function(e){ce("Uploading ...");var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ja(a,!0).forEach((function(t){Object(F.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ja(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{idFile:a.props.idFile});console.log(t),function(e){return new Promise((function(t,a){return S.a.post(w.a.api_url+"/ethereums/usingISO",e,{headers:ie()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))}(t).then((function(e){le(e),w.a.provider.waitForTransaction(e).then((function(){a.props.getISOAddress(a.props.userReducer.user.addressEthereum)}))})).catch((function(e){se(e)}))},a.saveFormRef=function(e){a.formRef=e},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.circle?r.a.createElement(_e.a,{title:"Using ISO this song",placement:"top"},r.a.createElement(v.a,{disabled:this.props.disabled,shape:"circle",type:"danger",ghost:!0,icon:"usergroup-add",onClick:this.showModal})):r.a.createElement(_e.a,{title:"Using ISO this song",placement:"leftTop"},r.a.createElement(v.a,{disabled:this.props.disabled,type:"danger",ghost:!0,icon:"usergroup-add",onClick:this.showModal},r.a.createElement(Qa,null,"Using ISO"))),r.a.createElement(Ya,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(r.a.Component),Xa=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{getISOAddress:function(t){return e(ua(t))}}}))(Za),en=Rt.a.Text,tn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleBuySong=function(e){ce("Downloading ..."),pe({_idFile:e}).then((function(e){le(e),w.a.provider.waitForTransaction(e).then((function(){a.props.getUserDownload(a.props.userReducer.user.addressEthereum)}))})).catch((function(e){se(e)}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.circle?r.a.createElement(_e.a,{title:"Buy this song",placement:"top"},r.a.createElement(v.a,{shape:"circle",type:"primary",ghost:!0,icon:"download",onClick:function(){e.handleBuySong(e.props.idFile)}})):r.a.createElement(_e.a,{title:"Buy this song",placement:"leftTop"},r.a.createElement(v.a,{type:"primary",ghost:!0,icon:"download",onClick:function(){e.handleBuySong(e.props.idFile)}},r.a.createElement(en,null,"Buy"))))}}]),t}(r.a.Component),an=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{getUserDownload:function(t){return e(pa(t))}}}))(tn),nn=Rt.a.Text,rn=Rt.a.Title,on=qt.a.Meta,cn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleBuySong=function(e){ce("Downloading ..."),pe({_idFile:e}).then((function(e){le(e),w.a.provider.waitForTransaction(e).then((function(){a.props.getUserDownload(a.props.userReducer.user.addressEthereum)}))})).catch((function(e){se(e)}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=[{title:"songInfo",dataIndex:"music",render:function(t){return r.a.createElement(on,{avatar:r.a.createElement(Yt.a,{shape:"square",size:50,src:window.$linkIPFS+t.image,alt:"Music photo",onClick:function(){return e.props.history.push("/song/".concat(t._id))}}),title:r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14,height:20},type:"link",onClick:function(){e.props.set_music_selected(t)}},t.name),description:r.a.createElement(nn,{type:"secondary"},t.artist)})}},{title:"Tags",key:"tags",render:function(){return r.a.createElement("span",null,r.a.createElement(Wa.a,{color:"volcano"},"HOT"))}},{title:"view",dataIndex:"music.view",render:function(e){return r.a.createElement("div",null,r.a.createElement(y.a,{type:"customer-service",style:{marginRight:"10px",color:"#1da1f2",fontSize:17}}),r.a.createElement(nn,{type:"secondary"},ue(e)))}},{title:"cost",render:function(e){return r.a.createElement("div",null,r.a.createElement(y.a,{type:"pay-circle",style:{marginRight:"10px",color:"#1da1f2",fontSize:17}}),r.a.createElement(nn,{type:"secondary"},ue(e.price)," HAK"))}},{title:"action",key:"action",render:function(t){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Xa,{disabled:!(!t.IsISO&&e.props.userReducer.user.id===e.props.pageReducer.userInfoData._id),idFile:t.idFile,circle:!0}),r.a.createElement(qa.a,{type:"vertical",style:{height:"30px"}}),r.a.createElement(_e.a,{title:"Get a contract",placement:"top"},r.a.createElement(v.a,{type:"primary",shape:"circle",icon:"solution",ghost:!0})),r.a.createElement(qa.a,{type:"vertical",style:{height:"30px"}}),r.a.createElement(an,{idFile:t.idFile,circle:!0}))}}];return r.a.createElement($a.a,{size:"middle",showHeader:!1,title:function(){return r.a.createElement(rn,{level:4,style:{color:"#2daaed"}},e.props.tableUpload?'B\xc0I H\xc1T C\u1ee6A "'.concat(e.props.pageName,'"'):'B\xc0I H\xc1T M\xc0 "'.concat(e.props.pageName,'" \u0110\xc3 MUA'))},columns:t,rowKey:function(e){return e.idFile},dataSource:this.props.tableUpload?this.props.pageReducer.uploadData:this.props.pageReducer.downloadData,loading:this.props.tableUpload?this.props.pageReducer.loadingUpload:this.props.pageReducer.loadingDownload})}}]),t}(r.a.Component),sn=Object(f.g)(Object(m.b)((function(e){return{pageReducer:e.pageReducer,userReducer:e.userReducer}}),(function(e){return{getUserDownload:function(t){return e(pa(t))},set_music_selected:function(t){return e(ea(t))}}}))(cn)),ln=a(122);a(641);function un(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var pn=Rt.a.Text,mn=g.a.create({name:"form_in_modal"})(function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,o=e.form.getFieldDecorator;return r.a.createElement(h.a,{visible:t,title:"Invest ISO",okText:"Submit",onCancel:a,onOk:n},r.a.createElement(g.a,{layout:"horizontal"},r.a.createElement(g.a.Item,{label:"Offer Amount"},o("investAmount",{rules:[{required:!0,message:"Please input amount to invest!"}],initialValue:0})(r.a.createElement(Ft.a,{min:0,style:{width:150},formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}})))))}}]),t}(r.a.Component)),dn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.formRef.props.form;e.validateFields((function(t,n){if(t)return ca.a.error("Please fill out all fields");a.openUploadNotification(n),e.resetFields(),a.setState({visible:!1})}))},a.openUploadNotification=function(e){ce("Invest Loading ...");var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?un(a,!0).forEach((function(t){Object(F.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):un(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{idFile:a.props.idFile});console.log(t),function(e){return new Promise((function(t,a){return S.a.post(w.a.api_url+"/ethereums/investISO",e,{headers:ie()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);console.log("this is result "+e.data.result),t(e.data.result)})).catch((function(e){a(e)}))}))}(t).then((function(e){le(e)})).catch((function(e){se(e)}))},a.saveFormRef=function(e){a.formRef=e},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_e.a,{title:"Invest this song",placement:"leftTop"},r.a.createElement(v.a,{disabled:this.props.disabled,type:"primary",ghost:!0,icon:"bg-colors",onClick:this.showModal},r.a.createElement(pn,null,"Invest"))),r.a.createElement(mn,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(r.a.Component),fn=Rt.a.Paragraph,hn=Rt.a.Text,gn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(fn,{style:{padding:5,margin:5},ellipsis:!0},r.a.createElement(hn,{strong:!0},this.props.title," : "),r.a.createElement(hn,null,this.props.link?r.a.createElement("a",{href:this.props.link},this.props.content):r.a.createElement(hn,{type:"secondary"}," ",this.props.content," ")))}}]),t}(r.a.Component),En=a(47),yn=Rt.a.Text,bn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"onClickOk",value:function(e){this.setState({visible:e})}},{key:"onClickCancel",value:function(e){this.setState({visible:e})}},{key:"render",value:function(){var e=this,t=this.props.record,a=[{title:"Address",dataIndex:"investor",key:"address",ellipsis:!0,render:function(t){return r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14},type:"link",onClick:function(){return e.props.history.push("/page/".concat(t))}},t)}},{title:"Invest percent",dataIndex:"percentage",key:"percent",render:function(e){return r.a.createElement(yn,null,parseFloat(e/1e3).toFixed(3)," %")}},{title:"Invest Amount",dataIndex:"amount",key:"amount",render:function(e){return r.a.createElement(yn,null,ue(e)," HAK")}}];return r.a.createElement("div",null,r.a.createElement(_e.a,{title:"Show more details of this song",placement:"rightTop"},r.a.createElement(v.a,{type:"primary",ghost:!0,icon:"info-circle",onClick:this.showModal},r.a.createElement(yn,null,"Detail ISO"))),r.a.createElement(h.a,{title:t.music.name+" - ISO",bodyStyle:{padding:0,margin:0},visible:this.state.visible,onCancel:function(){return e.onClickCancel(!1)},footer:[r.a.createElement(dn,{disabled:En().unix()>=t.timeExpired,idFile:t.idFile,center:!0})]},r.a.createElement(kn,{record:t,action:!1}),r.a.createElement(gn,{title:"Total Offer Amount",content:ue(t.offerAmount)+" HAK"}),r.a.createElement(gn,{title:"Total Offer Percent",content:parseFloat(t.offerPercent/1e3).toFixed(3)+"%"}),r.a.createElement(gn,{title:"Amount Remaining",content:ue(t.amountRemaining)+" HAK"}),r.a.createElement(gn,{title:"Owner Percent Remaining",content:parseFloat(t.ownerPercent/1e3).toFixed(3)+"%"}),r.a.createElement(gn,{title:"Invest table",content:""}),r.a.createElement($a.a,{rowKey:function(e){return e.idFile},columns:a,dataSource:t.investListISO,pagination:!1})))}}]),t}(r.a.Component),vn=Object(f.g)(Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{}}))(bn)),On=a(744),Sn=a(361),jn=qt.a.Meta,wn=On.a.Countdown,_n=Rt.a.Text,In=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.record,n=t.action;return r.a.createElement(qt.a,{hoverable:!0,cover:r.a.createElement("img",{className:"img-background-music",alt:"music background",src:window.$linkIPFS+a.music.image}),bodyStyle:{padding:"15px",width:"100%",border:"0px solid green"},actions:n?[r.a.createElement(vn,{record:a})]:null},r.a.createElement(jn,{style:{paddingBottom:10},avatar:r.a.createElement(Yt.a,{size:59,src:window.$linkIPFS+a.user.avatar,alt:a.user.nickName}),title:r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:16},type:"link",onClick:function(){return e.props.history.push("/page/".concat(a.user.addressEthereum))}},r.a.createElement(_n,{style:{fontSize:16},type:"warning"},a.user.nickName)),description:r.a.createElement(_n,null," ",ue(a.user.follow)," Follow ")}),r.a.createElement(v.a,{style:{textAlign:"center",padding:0,fontSize:14,height:20},type:"link",onClick:function(){return e.props.history.push("/song/".concat(a.music._id))}},a.music.name),r.a.createElement("br",null),r.a.createElement(_n,{type:"secondary",style:{marginTop:"10px"}},"Percent"),r.a.createElement(Sn.a,{style:{paddingRight:"10px"},strokeColor:{from:"#108ee9",to:"#FF5733"},percent:Number(parseFloat(100-100*a.amountRemaining/a.offerAmount).toFixed(1)),status:"active",showInfo:!0}),En().unix()>=a.timeExpired?r.a.createElement("div",null,r.a.createElement(_n,{type:"secondary"},"Time Remaining"),r.a.createElement("br",null),r.a.createElement(_n,{style:{fontSize:18},type:"danger"},"Expired")):r.a.createElement(wn,{title:"Time Remaining",valueStyle:{fontSize:"16px"},value:1e3*a.timeExpired,format:"D Ng\xe0y H Gi\u1edd m Ph\xfat s"}))}}]),t}(r.a.Component),kn=Object(f.g)(In),Tn=(a(650),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props.pageReducer.isoData.length),r.a.createElement("div",{style:{width:"100%"}},this.props.pageReducer.loadingIsoData?r.a.createElement("div",{className:"loading-data-iso"}," ",r.a.createElement(I.a,{size:"large"})," "):0===this.props.pageReducer.isoData.length?r.a.createElement("div",{className:"loading-data-iso"}," ",r.a.createElement(ln.a,{image:ln.a.PRESENTED_IMAGE_SIMPLE})," "):r.a.createElement(Ht.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},this.props.pageReducer.isoData.map((function(e){return r.a.createElement(Bt.a,{key:e.idFile,span:8},r.a.createElement(kn,{record:e,action:!0}))}))))}}]),t}(r.a.Component)),Dn=Object(m.b)((function(e){return{pageReducer:e.pageReducer}}),(function(e){return{getISOAddress:function(t){return e(me(t))}}}))(Tn),Rn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(we.a,{status:"404",title:"404",subTitle:this.props.subTitle,extra:r.a.createElement(v.a,{type:"primary",onClick:function(){return e.props.history.push("/home")}},"Back Home")})}}]),t}(r.a.Component),An=Rt.a.Paragraph,Cn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.link,n=e.content;return r.a.createElement("div",{style:{display:"flex",alignItems:"center",paddingBottom:5,marginBottom:15}},r.a.createElement(y.a,{type:t,style:{marginRight:10,fontSize:16,color:"#1da1f2"}}),r.a.createElement(An,{style:{marginBottom:0},ellipsis:!0},r.a.createElement("a",{href:a,style:{color:"#888888"}},n)))}}]),t}(r.a.Component),Pn=Va.a.TabPane,Un=Rt.a.Title,Fn=Rt.a.Text,Nn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.userName;t!=this.props.userName&&this.props.getUserPage(t)}},{key:"componentDidMount",value:function(){var e;this.props.getUserPage(this.props.userName),e={userName:this.props.userName},new Promise((function(t,a){return S.a.post(w.a.api_url+"/users/postViewUser",e,{headers:ie()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}},{key:"render",value:function(){if(this.props.pageReducer.errorPage)return r.a.createElement(Rn,{history:this.props.history,subTitle:"Page not found. Please try another link!"});if(!this.props.pageReducer.userInfoData)return r.a.createElement(ke,null);var e=this.props.pageReducer.userInfoData,t=e.follow,a=e.phone,n=e.facebook,o=e.youtube,i=e.home,c=e.coverPhoto,s=e.avatar,l=e.nickName,u=e._id,p=e.isFollowed,m=r.a.createElement(Da,{ownerSongID:u,isFollowed:p,isPage:!0});return r.a.createElement("div",null,r.a.createElement(Ht.a,null,r.a.createElement(Bt.a,{span:24},r.a.createElement("div",{style:{width:"100%",height:"300px",backgroundImage:"url('https://ipfs.fotra.tk/ipfs/".concat(c,"')"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center"}}))),r.a.createElement(Ht.a,{style:{paddingTop:"15px"}},r.a.createElement(Bt.a,{span:6},r.a.createElement("div",{className:"logo-name"},r.a.createElement("div",{style:{padding:"15px"}},r.a.createElement(Yt.a,{size:160,src:window.$linkIPFS+s,alt:"Avatar photo"})),r.a.createElement("div",null,r.a.createElement(Un,{level:4},l),r.a.createElement(Fn,{type:"secondary"},t," Follow"))),a?r.a.createElement(Cn,{icon:"phone",link:"linkPhone",content:a}):null,o?r.a.createElement(Cn,{icon:"youtube",link:"linkYoutube",content:o}):null,n?r.a.createElement(Cn,{icon:"facebook",link:"linkFacebook",content:n}):null,i?r.a.createElement(Cn,{icon:"home",link:"linkHome",content:i}):null),r.a.createElement(Bt.a,{span:18},r.a.createElement(Va.a,{tabBarExtraContent:m},r.a.createElement(Pn,{tab:"B\xe0i h\xe1t \u0111\xe3 \u0111\u0103ng",key:"1"},r.a.createElement(sn,{tableUpload:!0,pageName:l})),r.a.createElement(Pn,{tab:"ISO",key:"2"},r.a.createElement(Dn,null)),r.a.createElement(Pn,{tab:"B\xe0i h\xe1t \u0111\xe3 mua",key:"3"},r.a.createElement(sn,{pageName:l})),r.a.createElement(Pn,{tab:"S\u1ef1 ki\u1ec7n",key:"4"},"Content of tab 1")))))}}]),t}(n.Component),xn=Object(m.b)((function(e){return{pageReducer:e.pageReducer,userReducer:e.userReducer}}),(function(e){return{getUserPage:function(t){return e(da(t))},set_is_follow_page:function(t){return e(fa(t))}}}))(Nn),Ln=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Wt,{main:r.a.createElement(xn,{userName:this.props.match.params.userName,history:this.props.history}),history:this.props.history})}}]),t}(n.Component),Mn=(a(651),a(357)),Gn=a.n(Mn),Hn=a(740);a(320);function Bn(e){var t=e.className,a=e.seconds;return r.a.createElement("time",{dateTime:"P".concat(Math.round(a),"S"),className:t},function(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),r=zn(t.getUTCSeconds());if(a)return"".concat(a,":").concat(zn(n),":").concat(r);return"".concat(n,":").concat(r)}(a))}function zn(e){return("0"+e).slice(-2)}var Kn=a(358),Vn=a.n(Kn);function Wn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Wn(a,!0).forEach((function(t){Object(F.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $n=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={totalSeconds:0,loop:!0,playing:!0,playingIcon:"pause",loopIcon:"redo",loadingInfo:{},volume:.3},a.onHandleClickPlaying=function(){var e=a.state,t=e.playing,n=e.playingIcon;a.setState({playing:!t,playingIcon:"pause"===n?"caret-right":"pause"})},a.onHandleClickLoop=function(){var e=a.state,t=e.loop,n=e.loopIcon;a.setState({loop:!t,loopIcon:"redo"===n?"close":"redo"})},a.onChangeSeek=function(e){isNaN(e)||(a.setState({loadingInfo:qn({},a.state.loadingInfo,{playedSeconds:e})}),a.player.seekTo(parseFloat(e)))},a.onChangeVolume=function(e){isNaN(e)||a.setState({volume:e/100})},a.Tooltip=function(e){return r.a.createElement(Bn,{seconds:e})},a.ref=function(e){a.player=e},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.totalSeconds,n=t.playing,o=t.loop,i=t.playingIcon,c=t.loopIcon,s=t.loadingInfo,l=t.volume,u=this.props,p=u.isDetail,m=u.imageHash,d=u.musicHash,f=u.idFile;r.a.createElement(At.a,null,r.a.createElement(At.a.Item,null,r.a.createElement(an,{idFile:f})),r.a.createElement(At.a.Item,null,r.a.createElement(dn,{idFile:f})),r.a.createElement(At.a.Item,null,r.a.createElement(Xa,{disabled:this.props.appReducer.musicSelected.userUpload!==this.props.userReducer.user.id,idFile:f})));return r.a.createElement("div",{className:p?"detailPlayer":"nowPlayer"},r.a.createElement(Gn.a,{ref:this.ref,volume:l,loop:o,url:window.$linkIPFS+d,playing:n,width:"0",height:"0",onProgress:function(t){e.setState({loadingInfo:t})},onDuration:function(t){e.setState({totalSeconds:t})}}),r.a.createElement(v.a,{shape:"circle",size:"large",icon:"step-backward",className:"icon-formart"}),r.a.createElement(_e.a,{title:n?"Play":"Stop"},r.a.createElement(v.a,{shape:"circle",size:"large",icon:i,className:"icon-formart",onClick:function(){e.onHandleClickPlaying()}})),r.a.createElement(v.a,{shape:"circle",size:"large",icon:"step-forward",className:"icon-formart"}),r.a.createElement(_e.a,{title:o?"Loop":"No Loop"},r.a.createElement(v.a,{shape:"circle",size:"large",icon:c,className:"icon-formart",onClick:function(){e.onHandleClickLoop()}})),r.a.createElement(Yt.a,{size:50,style:{marginLeft:20},src:window.$linkIPFS+m,alt:"Avatar photo"}),r.a.createElement(Hn.a,{tipFormatter:this.Tooltip,min:0,max:a,onChange:this.onChangeSeek,value:"number"===typeof s.playedSeconds?s.playedSeconds:0,style:{width:"300px",marginLeft:10},step:1e-6}),r.a.createElement(Bn,{seconds:s.playedSeconds?s.playedSeconds:0}),r.a.createElement(Vn.a,null,"/"),r.a.createElement(Bn,{seconds:a}),r.a.createElement(Ut.a,{overlay:r.a.createElement("div",{style:{display:"inline-block",height:100}},r.a.createElement(Hn.a,{onChange:this.onChangeVolume,vertical:!0,defaultValue:30})),placement:"topCenter"},r.a.createElement(v.a,{style:{marginLeft:10},shape:"circle",type:"default",icon:"bell"})))}}]),t}(n.Component),Jn=Object(m.b)((function(e){return{appReducer:e.appReducer,userReducer:e.userReducer}}),(function(e){return{}}))($n),Qn=a(359),Yn=a.n(Qn),Zn=(a(685),Rt.a.Paragraph,Rt.a.Text),Xn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,text:""},a.handleChange=function(e){a.setState({text:e})},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){a.setState({visible:!1,text:""});var t={idMongo:a.props.idMongo,lyric:a.state.text};console.log(t),function(e){return new Promise((function(t,a){return S.a.post(w.a.api_url+"/actions/postLyric",e,{headers:ie()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}(t).then((function(e){console.log(e)}))},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_e.a,{title:"Edit lyric",placement:"leftTop"},r.a.createElement(v.a,{disabled:this.props.disabled,ghost:!0,type:"danger",icon:"edit",onClick:this.showModal},r.a.createElement(Zn,null,"Edit lyric"))),r.a.createElement(h.a,{title:"Edit Lyric",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,okButtonProps:{type:"danger"},okText:"Submit"},r.a.createElement(Yn.a,{theme:"snow",value:this.state.text,onChange:this.handleChange})))}}]),t}(r.a.Component),er=Rt.a.Paragraph,tr=Rt.a.Text,ar=Rt.a.Title,nr=On.a.Countdown,rr=qt.a.Meta,or=(Va.a.TabPane,function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.idMongo;t!==this.props.idMongo&&this.props.getSongByID(t)}},{key:"componentDidMount",value:function(){var e;console.log(this.props.idMongo),this.props.getSongByID(this.props.idMongo),this.props.getRelatedUser(),e={idSongMongo:this.props.idMongo},new Promise((function(t,a){return S.a.post(w.a.api_url+"/users/postViewMusic",e,{headers:ie()}).then((function(e){if(0===e.data.status)return console.log(e.data.error.message),a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}},{key:"render",value:function(){var e=this,t=this.props.songReducer,a=t.songInfo,n=t.songSameSingerData,o=t.relatedUserData;if(t.error)return r.a.createElement(Rn,{history:this.props.history,subTitle:"Song not found. Please try another link!"});if(!a)return r.a.createElement(ke,null);var i=[{title:"Address",dataIndex:"investor",key:"address",ellipsis:!0,render:function(t){return r.a.createElement(v.a,{style:{textAlign:"left",padding:0},type:"link",onClick:function(){return e.props.history.push("/page/".concat(t))}},t)}},{title:"Invest percent",dataIndex:"percentage",key:"percent",render:function(e){return r.a.createElement(tr,null,parseFloat(e/1e3).toFixed(3)," %")}},{title:"Invest Amount",dataIndex:"amount",key:"amount",render:function(e){return r.a.createElement(tr,null,ue(e)," HAK")}}];return r.a.createElement(Ht.a,null,r.a.createElement(Ht.a,{gutter:[0,32]},r.a.createElement(Bt.a,{span:18},r.a.createElement(Ht.a,null,r.a.createElement(Jn,{musicHash:a.hash,imageHash:a.image,isDetail:!0})),r.a.createElement(Ht.a,{style:{padding:5,margin:5}},r.a.createElement(Bt.a,{span:8},r.a.createElement(Ht.a,null,r.a.createElement(rr,{style:{paddingBottom:10},avatar:r.a.createElement(Yt.a,{size:59,src:window.$linkIPFS+a.userUpload.avatar}),title:r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:16},type:"link",onClick:function(){return e.props.history.push("/page/".concat(a.userUpload.addressEthereum))}},r.a.createElement(tr,{style:{fontSize:18},type:"warning"},a.userUpload.nickName)),description:r.a.createElement(tr,null," ",ue(a.follow)," Follow ")})),r.a.createElement(Ht.a,{style:{padding:5,margin:5}},r.a.createElement(Yt.a,{shape:"square",size:220,src:"https://ipfs.fotra.tk/ipfs/"+a.image,alt:"Music photo"}),r.a.createElement(_e.a,{title:a.name,placement:"leftTop"},r.a.createElement(er,{strong:!0,style:{fontSize:"20px",margin:"15px"},ellipsis:{rows:2}},a.name))),r.a.createElement(Ht.a,{style:{padding:5,margin:5}},r.a.createElement(gn,{title:"Singer",content:a.artist,link:"link here"}),r.a.createElement(gn,{title:"Author",content:"Nguy\u1ec5n Ho\xe0ng H\u1ea3i",link:"link here"}),r.a.createElement(gn,{title:"Release",content:En(1e3*a.blockTime).format("L")}),r.a.createElement(gn,{title:"View",content:a.view}),r.a.createElement(gn,{title:"Download Total",content:a.totalDownloader}),r.a.createElement(gn,{title:"Download Week",content:a.weekDownloader}),r.a.createElement(gn,{title:"Contract Permission",content:a.contractPermission?"Allow":"Not Allow"}),r.a.createElement(gn,{title:"ISO",content:a.IsISO?En().unix()>=a.timeExpired?"Used":"Now Using":"Not Use",link:"link here"}))),r.a.createElement(Bt.a,{span:16},r.a.createElement(Ht.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-around",marginBottom:10,paddingBottom:10}},r.a.createElement(Da,{ownerSongID:a.userUpload._id,isFollowed:a.isFollowed}),r.a.createElement(Xa,{disabled:this.props.userReducer.user.id!==a.userUpload._id,idFile:a.idFile}),r.a.createElement(Xn,{disabled:this.props.userReducer.user.id!==a.userUpload._id,idMongo:this.props.idMongo}),r.a.createElement(dn,{disabled:En().unix()>=a.timeExpired,idFile:a.idFile}),r.a.createElement(an,{idFile:a.idFile})),r.a.createElement(Ht.a,{style:{padding:5,marginTop:20}},r.a.createElement(ar,{level:4,type:"secondary"}," LYRIC  "),r.a.createElement("div",{style:{width:"100%",maxHeight:250,backgroundColor:"rgb(239, 242, 245)",overflow:"auto"}},r.a.createElement("div",{style:{padding:5,margin:5},dangerouslySetInnerHTML:{__html:a.lyric}}))),r.a.createElement(Ht.a,{style:{padding:3,marginTop:20}},r.a.createElement(ar,{level:4,type:"secondary"}," INITIAL SONG OFFERING (ISO) INFOMATION "),a.IsISO?r.a.createElement("div",null,r.a.createElement(nr,{valueStyle:{fontSize:"17px",textAlign:"center",margin:"5px"},value:1e3*a.timeExpired,format:"D Ng\xe0y H Gi\u1edd m Ph\xfat s"}),r.a.createElement(Sn.a,{style:{paddingRight:"10px",margin:"5px"},strokeColor:{from:"#108ee9",to:"#FF5733"},percent:Number(parseFloat(100-100*a.amountRemaining/a.offerAmount).toFixed(1)),status:"active",showInfo:!0}),r.a.createElement(gn,{title:"Progress",content:ue(a.offerAmount-a.amountRemaining)+" / "+ue(a.offerAmount)+" HAK"}),r.a.createElement(gn,{title:"Total Offer Amount",content:ue(a.offerAmount)+" HAK"}),r.a.createElement(gn,{title:"Total Offer Percent",content:parseFloat(a.offerPercent/1e3).toFixed(3)+"%"}),r.a.createElement(gn,{title:"Amount Remaining",content:ue(a.amountRemaining)+" HAK"}),r.a.createElement(gn,{title:"Owner Percent Remaining",content:parseFloat(a.ownerPercent/1e3).toFixed(3)+"%"}),r.a.createElement(gn,{title:"Invest table",content:""}),r.a.createElement($a.a,{rowKey:function(e){return e.idFile},columns:i,dataSource:a.investListISO,pagination:!1})):r.a.createElement(tr,null," This song is not using ISO yet. ")),r.a.createElement(Ht.a,{style:{padding:5,marginTop:20}},r.a.createElement(Ht.a,null,r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:"20px"},type:"link",onClick:function(){}},r.a.createElement(ar,{level:4,type:"secondary"},"SONG WITH THE SAME SINGER >>>"))),r.a.createElement(Ht.a,{gutter:[8,0],type:"flex",justify:"space-around"},n?0===n.length?r.a.createElement(tr,null," This user just have this song! "):n.map((function(e){return r.a.createElement(Bt.a,{key:e._id,span:8,style:{width:170,marginTop:20}},r.a.createElement(La,{songInfo:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt.a,{span:8,style:{marginTop:20}},r.a.createElement(Ma,null)),r.a.createElement(Bt.a,{span:8,style:{marginTop:20}},r.a.createElement(Ma,null)),r.a.createElement(Bt.a,{span:8,style:{marginTop:20}},r.a.createElement(Ma,null))))),r.a.createElement(Ht.a,{style:{padding:5,marginTop:20}},r.a.createElement(Ht.a,null,r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:"20px"},type:"link",onClick:function(){}},r.a.createElement(ar,{level:4,type:"secondary"},"RELATED ARTIST >>>"))),r.a.createElement(Ht.a,{gutter:[8,0],type:"flex",justify:"space-around"},o?o.map((function(e){return r.a.createElement(Bt.a,{span:6,style:{width:170,marginTop:20}},r.a.createElement(Pa,{songPage:!0,user:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt.a,{span:8,style:{marginTop:20}},r.a.createElement(Ua,null)),r.a.createElement(Bt.a,{span:8,style:{marginTop:20}},r.a.createElement(Ua,null)),r.a.createElement(Bt.a,{span:8,style:{marginTop:20}},r.a.createElement(Ua,null)))))))),r.a.createElement(Bt.a,{span:6},r.a.createElement("div",{style:{backgroundColor:"#e0e0e0",height:1e3}},"Advertising"))))}}]),t}(r.a.Component)),ir=Object(f.g)(Object(m.b)((function(e){return{songReducer:e.songReducer,userReducer:e.userReducer}}),(function(e){return{getSongByID:function(t){return e(Ia(t))},getSongSameSinger:function(t){return e(_a(t))},getRelatedUser:function(){return e(wa())}}}))(or)),cr=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Wt,{main:r.a.createElement(ir,{idMongo:this.props.match.params.idMongo}),history:this.props.history})}}]),t}(n.Component),sr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dataISO:[],loading:!0},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e,t){return S.a.get(w.a.api_url+"/ethereums/getISOList",{headers:ie()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);console.log(a.data.result),e(a.data.result)})).catch((function(e){console.log("loine: "+e),t(e)}))})).then((function(t){e.setState({dataISO:t,loading:!1})}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%"}},this.state.loading?r.a.createElement(ke,null):r.a.createElement(Ht.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},this.state.dataISO.map((function(e){return r.a.createElement(Bt.a,{key:e.idFile,span:6},r.a.createElement(kn,{record:e,action:!0}))}))))}}]),t}(r.a.Component),lr=Object(m.b)((function(e){return{}}),(function(e){return{}}))(sr),ur=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Wt,{main:r.a.createElement(lr,null),history:this.props.history})}}]),t}(n.Component);a(686),a(687);function pr(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||ca.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||ca.a.error("Image must smaller than 2MB!"),t&&a}var mr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&(!function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}(e.file.originFileObj,(function(e){a.setState({imageUrl:e,loading:!1})})),a.props.file(e.file.response.result,a.state.loading)):a.setState({loading:!0})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=r.a.createElement("div",null,r.a.createElement(y.a,{type:this.state.loading?"loading":"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload")),t=this.state.imageUrl;return r.a.createElement(la.a,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:w.a.api_url+"/users/upload",beforeUpload:pr,onChange:this.handleChange},t?r.a.createElement("img",{src:t,alt:"avatar",style:{width:"100%"}}):e)}}]),t}(r.a.Component),dr=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.goTo,n=t.func,o=t.title,i=t.subTitle;return r.a.createElement(we.a,{status:"success",title:o,subTitle:i,extra:[r.a.createElement(v.a,{type:"primary",onClick:function(){e.props.history.push("/".concat(a)),n()}},"Go to ",a)]})}}]),t}(r.a.Component),fr=Object(f.g)(dr),hr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={hashAvatar:"",hashCoverPhoto:""},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||(console.log("Received values of form: ",t),a.setState({hashAvatar:"",hashCoverPhoto:""}),a.props.updateUser(t),a.props.form.resetFields())}))},a.normFile=function(e){a.setState({hashAvatar:e})},a.normFile2=function(e){a.setState({hashCoverPhoto:e})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return this.props.userReducer.isUpdate?r.a.createElement(ke,null):this.props.userReducer.updateSuccessful?r.a.createElement(fr,{title:"SUCCESSFUL",subTitle:"Update user information successful",goTo:"home",func:this.props.reset_update}):this.props.userReducer.errorUpdate?r.a.createElement(De,{func:this.props.handle_update_error,title:"ERROR at update user information!",subTitle:this.props.userReducer.errorUpdate,goTo:"setting"}):r.a.createElement(g.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{onSubmit:this.handleSubmit}),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"Nickname\xa0",r.a.createElement(_e.a,{title:"What do you want others to call you?"},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"question-circle-o"})))},t("nickName")(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"UserName\xa0",r.a.createElement(_e.a,{title:"What do you want others to call you?"},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"question-circle-o"})))},t("userName",{rules:[{message:"Your input is not valid.",pattern:/^\S{8,16}$/}]})(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"Youtube\xa0",r.a.createElement(_e.a,{title:"Write your link youtube chanel."},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"youtube"})))},t("youtube")(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"Facebook\xa0",r.a.createElement(_e.a,{title:"Write your link facebook."},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"facebook"})))},t("facebook")(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"Home Address\xa0",r.a.createElement(_e.a,{title:"Write your home address."},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"home"})))},t("home")(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"Avatar\xa0",r.a.createElement(_e.a,{title:"Upload your avatar."},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"smile"})))},t("avatar",{initialValue:this.state.hashAvatar})(r.a.createElement(mr,{file:function(t){return e.normFile(t)}}))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"CoverPhoto\xa0",r.a.createElement(_e.a,{title:"Upload your cover photo."},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"picture"})))},t("coverPhoto",{initialValue:this.state.hashCoverPhoto})(r.a.createElement(mr,{file:function(t){return e.normFile2(t)}}))),r.a.createElement(g.a.Item,{wrapperCol:{span:12,offset:6}},r.a.createElement(v.a,{type:"primary",htmlType:"submit"},"Submit")))}}]),t}(r.a.Component),gr=g.a.create({name:"validate_other"})(hr),Er=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{updateUser:function(t){return e(he(t))},handle_update_error:function(){return e({type:"HANDLE_UPDATE_ERROR"})},reset_update:function(){return e({type:"RESET_UPDATE"})}}}))(gr),yr=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Wt,{main:r.a.createElement(Er,null),history:this.props.history})}}]),t}(n.Component),br=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.appReducer.musicSelected,t=e.hash,a=e.image,n=e.idSolidity;return r.a.createElement("div",{style:{visibility:this.props.isMusicDetail?"":0===Object.entries(this.props.appReducer.musicSelected).length?"hidden":""}},r.a.createElement(qt.a,{hoverable:!0,bordered:!1,bodyStyle:{backgroundColor:"#D6DBDF",position:"fixed",bottom:0,width:"100vw",padding:10}},r.a.createElement(Jn,{musicHash:t,imageHash:a,idFile:n})))}}]),t}(n.Component),vr=Object(m.b)((function(e){return{appReducer:e.appReducer}}),(function(e){return{}}))(br),Or=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{}}))((function(e){var t=e.component,a=e.userReducer,n=Object(et.a)(e,["component","userReducer"]);return r.a.createElement(f.b,Object.assign({},n,{render:function(e){return a.signinSuccessful?r.a.createElement(t,e):r.a.createElement(f.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})),Sr=function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/",component:Ka}),r.a.createElement(Or,{path:"/home",component:za}),r.a.createElement(f.b,{path:"/login",component:Se}),r.a.createElement(f.b,{path:"/register",component:Pe}),r.a.createElement(Or,{path:"/message",component:Dt}),r.a.createElement(Or,{path:"/iso",component:ur}),r.a.createElement(Or,{path:"/setting",component:yr}),r.a.createElement(Or,{path:"/page/:userName",component:Ln}),r.a.createElement(Or,{path:"/song/:idMongo",component:cr}),r.a.createElement(Or,{component:Rn})),r.a.createElement(vr,null)))},jr=a(360),wr=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{store:ne},r.a.createElement(jr.PersistGate,{loading:null,persistor:re},r.a.createElement(Sr,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(wr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[375,1,2]]]);
//# sourceMappingURL=main.6aa70c42.chunk.js.map